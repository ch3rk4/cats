Index: main.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># ============================================================\r\n# –ö–û–¢–û–ì–ê–î–ê–õ–ö–ê - –ú–∏–Ω–∏-—Ç–µ—Å—Ç \"–ö–∞–∫–æ–π —Ç—ã –∫–æ—Ç —Å–µ–≥–æ–¥–Ω—è?\"\r\n# ============================================================\r\n# –≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –Ω–∞ Tkinter\r\n# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∏ —É–∑–Ω–∞—ë—Ç, –∫–∞–∫–æ–π –æ–Ω –∫–æ—Ç\r\n# ============================================================\r\n\r\n# --- –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –î–õ–Ø WINDOWS + POETRY ---\r\n# Poetry —Å–æ–∑–¥–∞—ë—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –≤–∏–¥–∏—Ç Tcl/Tk\r\n# –≠—Ç–æ—Ç –∫–æ–¥ —É–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º Tcl/Tk\r\nimport os\r\nimport sys\r\n\r\n# –ü–æ–ª—É—á–∞–µ–º –ø—É—Ç—å –∫ —Å–∏—Å—Ç–µ–º–Ω–æ–º—É Python (–≥–¥–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Tcl/Tk)\r\npython_dir = sys.base_prefix\r\n\r\n# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Tcl –∏ Tk\r\nos.environ['TCL_LIBRARY'] = os.path.join(python_dir, 'tcl', 'tcl8.6')\r\nos.environ['TK_LIBRARY'] = os.path.join(python_dir, 'tcl', 'tk8.6')\r\n\r\n# --- –ò–ú–ü–û–†–¢–´ ---\r\n# tkinter - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Python –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–∫–æ–Ω –∏ –∫–Ω–æ–ø–æ–∫\r\nimport tkinter as tk\r\nfrom tkinter import messagebox  # –¥–ª—è –≤—Å–ø–ª—ã–≤–∞—é—â–∏—Ö –æ–∫–æ–Ω —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏\r\n\r\n# PIL (Pillow) - –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ Tkinter\r\n# –£—Å—Ç–∞–Ω–æ–≤–∫–∞: pip install Pillow (–∏–ª–∏ poetry add Pillow)\r\nfrom PIL import Image, ImageTk\r\n\r\n# ============================================================\r\n# –î–ê–ù–ù–´–ï –î–õ–Ø –¢–ï–°–¢–ê\r\n# ============================================================\r\n\r\n# –°–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ —Ç–µ—Å—Ç–∞\r\n# –ö–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å - —ç—Ç–æ —Å–ª–æ–≤–∞—Ä—å —Å —Ç–µ–∫—Å—Ç–æ–º –≤–æ–ø—Ä–æ—Å–∞ –∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤\r\n# –ö–∞–∂–¥—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—Å—Ç –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–ª–ª–æ–≤ (score)\r\nQUESTIONS = [\r\n    {\r\n        \"text\": \"–ö–∞–∫ —Ç—ã —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—à—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å?\",\r\n        \"options\": [\r\n            {\"text\": \"–•–æ—á—É —Å–ø–∞—Ç—å –∏ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å\", \"score\": 1},\r\n            {\"text\": \"–ù–µ–º–Ω–æ–≥–æ —É—Å—Ç–∞–ª(–∞)\", \"score\": 2},\r\n            {\"text\": \"–ù–æ—Ä–º–∞–ª—å–Ω–æ, –æ–±—ã—á–Ω—ã–π –¥–µ–Ω—å\", \"score\": 3},\r\n            {\"text\": \"–î–æ–≤–æ–ª—å–Ω–æ –±–æ–¥—Ä–æ!\", \"score\": 4},\r\n            {\"text\": \"–ü–æ–ª–æ–Ω(–Ω–∞) —ç–Ω–µ—Ä–≥–∏–∏! \uD83D\uDD25\", \"score\": 5}\r\n        ]\r\n    },\r\n    {\r\n        \"text\": \"–ß—Ç–æ –±—ã —Ç—ã —Ö–æ—Ç–µ–ª(–∞) —Å–¥–µ–ª–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å?\",\r\n        \"options\": [\r\n            {\"text\": \"–°–≤–µ—Ä–Ω—É—Ç—å—Å—è –∫–ª—É–±–æ—á–∫–æ–º –∏ —É—Å–Ω—É—Ç—å\", \"score\": 1},\r\n            {\"text\": \"–ü–æ—Å–∏–¥–µ—Ç—å –≤ —Ç–∏—à–∏–Ω–µ\", \"score\": 2},\r\n            {\"text\": \"–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ-–Ω–∏–±—É–¥—å\", \"score\": 3},\r\n            {\"text\": \"–ü–æ–æ–±—â–∞—Ç—å—Å—è —Å –¥—Ä—É–∑—å—è–º–∏\", \"score\": 4},\r\n            {\"text\": \"–ê–∫—Ç–∏–≤–Ω–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ –≤—Ä–µ–º—è!\", \"score\": 5}\r\n        ]\r\n    },\r\n    {\r\n        \"text\": \"–ö–∞–∫ —Ç—ã –æ—Ç–Ω–æ—Å–∏—à—å—Å—è –∫ —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–º—É –¥–Ω—é?\",\r\n        \"options\": [\r\n            {\"text\": \"–•–æ—á—É, —á—Ç–æ–±—ã –æ–Ω —Å–∫–æ—Ä–µ–µ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è\", \"score\": 1},\r\n            {\"text\": \"–ö–∞–∫-—Ç–æ –Ω–µ –æ—á–µ–Ω—å...\", \"score\": 2},\r\n            {\"text\": \"–û–±—ã—á–Ω—ã–π –¥–µ–Ω—å\", \"score\": 3},\r\n            {\"text\": \"–•–æ—Ä–æ—à–∏–π –¥–µ–Ω—å!\", \"score\": 4},\r\n            {\"text\": \"–û—Ç–ª–∏—á–Ω—ã–π –¥–µ–Ω—å! –í—Å—ë —Å—É–ø–µ—Ä!\", \"score\": 5}\r\n        ]\r\n    },\r\n    {\r\n        \"text\": \"–í—ã–±–µ—Ä–∏ –ø–æ–≥–æ–¥—É, –∫–æ—Ç–æ—Ä–∞—è —Ç–µ–±–µ –±–ª–∏–∂–µ —Å–µ–π—á–∞—Å:\",\r\n        \"options\": [\r\n            {\"text\": \"\uD83C\uDF27\uFE0F –î–æ–∂–¥—å –∑–∞ –æ–∫–Ω–æ–º\", \"score\": 1},\r\n            {\"text\": \"‚òÅ\uFE0F –ü–∞—Å–º—É—Ä–Ω–æ\", \"score\": 2},\r\n            {\"text\": \"‚õÖ –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±–ª–∞—á–Ω–æ—Å—Ç—å\", \"score\": 3},\r\n            {\"text\": \"\uD83C\uDF24\uFE0F –°–æ–ª–Ω—Ü–µ –≤—ã–≥–ª—è–¥—ã–≤–∞–µ—Ç\", \"score\": 4},\r\n            {\"text\": \"‚òÄ\uFE0F –Ø—Ä–∫–æ–µ —Å–æ–ª–Ω—Ü–µ!\", \"score\": 5}\r\n        ]\r\n    },\r\n    {\r\n        \"text\": \"–ï—Å–ª–∏ –±—ã —Ç—ã –±—ã–ª(–∞) –∫–æ—Ç–æ–º, —á—Ç–æ –±—ã –¥–µ–ª–∞–ª(–∞)?\",\r\n        \"options\": [\r\n            {\"text\": \"–°–ø–∞–ª(–∞) –≤–µ—Å—å –¥–µ–Ω—å\", \"score\": 1},\r\n            {\"text\": \"–õ–µ–∂–∞–ª(–∞) –∏ —Å–º–æ—Ç—Ä–µ–ª(–∞) –≤ –æ–∫–Ω–æ\", \"score\": 2},\r\n            {\"text\": \"–ì—É–ª—è–ª(–∞) –ø–æ –¥–æ–º—É\", \"score\": 3},\r\n            {\"text\": \"–ò–≥—Ä–∞–ª(–∞) —Å –∏–≥—Ä—É—à–∫–∞–º–∏\", \"score\": 4},\r\n            {\"text\": \"–ù–æ—Å–∏–ª—Å—è(–∞—Å—å) –∫–∞–∫ —Å—É–º–∞—Å—à–µ–¥—à–∏–π!\", \"score\": 5}\r\n        ]\r\n    }\r\n]\r\n\r\n# –¢–∏–ø—ã –∫–æ—Ç–æ–≤ (—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞)\r\n# –ö–∞–∂–¥—ã–π —Ç–∏–ø —Å–æ–¥–µ—Ä–∂–∏—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –¥–∏–∞–ø–∞–∑–æ–Ω –±–∞–ª–ª–æ–≤ (min, max), —Ü–≤–µ—Ç\r\n# image_folder - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏ –¥–ª—è —ç—Ç–æ–≥–æ —Ç–∏–ø–∞\r\nCAT_TYPES = [\r\n    {\r\n        \"name\": \"–°–æ–Ω–Ω—ã–π –∫–æ—Ç–∏–∫ \uD83D\uDE34\",\r\n        \"description\": \"–°–µ–≥–æ–¥–Ω—è —Ç–µ–±–µ –Ω—É–∂–µ–Ω –æ—Ç–¥—ã—Ö. –ü–æ–∑–≤–æ–ª—å —Å–µ–±–µ —Ä–∞—Å—Å–ª–∞–±–∏—Ç—å—Å—è, \"\r\n                       \"–∫–∞–∫ –∫–æ—Ç –Ω–∞ –º—è–≥–∫–æ–º –ø–ª–µ–¥–µ. –ù–µ —Ç—Ä–µ–±—É–π –æ—Ç —Å–µ–±—è —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ–≥–æ. \"\r\n                       \"–ì–æ—Ä—è—á–∏–π —á–∞–π, —Ç—ë–ø–ª—ã–π –ø–ª–µ–¥ –∏ –ª—é–±–∏–º—ã–π —Å–µ—Ä–∏–∞–ª ‚Äî –≤–æ—Ç —Ç–≤–æ–π —Ä–µ—Ü–µ–ø—Ç –Ω–∞ —Å–µ–≥–æ–¥–Ω—è!\",\r\n        \"min_score\": 5,\r\n        \"max_score\": 9,\r\n        \"color\": \"#9E9E9E\",  # —Å–µ—Ä—ã–π —Ü–≤–µ—Ç\r\n        \"image_folder\": \"sleepy\"  # –ø–∞–ø–∫–∞ images/sleepy/\r\n    },\r\n    {\r\n        \"name\": \"–ó–∞–¥—É–º—á–∏–≤—ã–π –∫–æ—Ç \uD83D\uDC31\",\r\n        \"description\": \"–¢—ã —Å–µ–≥–æ–¥–Ω—è –≤ —Å–æ–∑–µ—Ä—Ü–∞—Ç–µ–ª—å–Ω–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–∏. –•–æ—Ä–æ—à–µ–µ –≤—Ä–µ–º—è \"\r\n                       \"–¥–ª—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–π –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è. –ö–∞–∫ –∫–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–º–æ—Ç—Ä–∏—Ç \"\r\n                       \"–≤ –æ–∫–Ω–æ –∏ –¥—É–º–∞–µ—Ç –æ –≤–∞–∂–Ω–æ–º. –ú–æ–∂–µ—Ç, —Å—Ç–æ–∏—Ç –∑–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ–∏ –º—ã—Å–ª–∏?\",\r\n        \"min_score\": 10,\r\n        \"max_score\": 14,\r\n        \"color\": \"#78909C\",  # —Å–µ—Ä–æ-–≥–æ–ª—É–±–æ–π\r\n        \"image_folder\": \"thoughtful\"  # –ø–∞–ø–∫–∞ images/thoughtful/\r\n    },\r\n    {\r\n        \"name\": \"–î–æ–≤–æ–ª—å–Ω—ã–π –∫–æ—Ç–∏–∫ \uD83D\uDE3A\",\r\n        \"description\": \"–£ —Ç–µ–±—è —Ö–æ—Ä–æ—à–µ–µ, —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ! –ö–∞–∫ –∫–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π \"\r\n                       \"–ø–æ–µ–ª –∏ —Ç–µ–ø–µ—Ä—å –¥–æ–≤–æ–ª–µ–Ω –∂–∏–∑–Ω—å—é. –û—Ç–ª–∏—á–Ω—ã–π –¥–µ–Ω—å –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –¥–µ–ª \"\r\n                       \"–∏ –º–∞–ª–µ–Ω—å–∫–∏—Ö —Ä–∞–¥–æ—Å—Ç–µ–π. –ú—É—Ä-–º—É—Ä!\",\r\n        \"min_score\": 15,\r\n        \"max_score\": 19,\r\n        \"color\": \"#81C784\",  # –∑–µ–ª—ë–Ω—ã–π\r\n        \"image_folder\": \"happy\"  # –ø–∞–ø–∫–∞ images/happy/\r\n    },\r\n    {\r\n        \"name\": \"–ò–≥—Ä–∏–≤—ã–π –∫–æ—Ç \uD83D\uDE38\",\r\n        \"description\": \"–¢—ã –ø–æ–ª–æ–Ω —ç–Ω–µ—Ä–≥–∏–∏ –∏ –≥–æ—Ç–æ–≤ –∫ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è–º! –ö–∞–∫ –∫–æ—Ç—ë–Ω–æ–∫, \"\r\n                       \"–∫–æ—Ç–æ—Ä—ã–π –≥–æ–Ω—è–µ—Ç—Å—è –∑–∞ —Å–æ–ª–Ω–µ—á–Ω—ã–º –∑–∞–π—á–∏–∫–æ–º. –û—Ç–ª–∏—á–Ω—ã–π –¥–µ–Ω—å \"\r\n                       \"–¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –∏ –Ω–æ–≤—ã—Ö –Ω–∞—á–∏–Ω–∞–Ω–∏–π!\",\r\n        \"min_score\": 20,\r\n        \"max_score\": 22,\r\n        \"color\": \"#FFB74D\",  # –æ—Ä–∞–Ω–∂–µ–≤—ã–π\r\n        \"image_folder\": \"playful\"  # –ø–∞–ø–∫–∞ images/playful/\r\n    },\r\n    {\r\n        \"name\": \"–ö–æ—Ç-—É—Ä–∞–≥–∞–Ω \uD83D\uDE40\",\r\n        \"description\": \"–≠–Ω–µ—Ä–≥–∏—è –±—å—ë—Ç —á–µ—Ä–µ–∑ –∫—Ä–∞–π! –¢—ã –∫–∞–∫ –∫–æ—Ç –≤ 3 —á–∞—Å–∞ –Ω–æ—á–∏ ‚Äî \"\r\n                       \"–≥–æ—Ç–æ–≤ —Å–≤–µ—Ä–Ω—É—Ç—å –≥–æ—Ä—ã –∏ –Ω–æ—Å–∏—Ç—å—Å—è –ø–æ –ø–æ—Ç–æ–ª–∫—É! –ò—Å–ø–æ–ª—å–∑—É–π \"\r\n                       \"—ç—Ç—É —ç–Ω–µ—Ä–≥–∏—é —Å —É–º–æ–º ‚Äî —Å–µ–≥–æ–¥–Ω—è —Ç–µ–±–µ –≤—Å—ë –ø–æ –ø–ª–µ—á—É!\",\r\n        \"min_score\": 23,\r\n        \"max_score\": 25,\r\n        \"color\": \"#FF7043\",  # –∫—Ä–∞—Å–Ω–æ-–æ—Ä–∞–Ω–∂–µ–≤—ã–π\r\n        \"image_folder\": \"crazy\"  # –ø–∞–ø–∫–∞ images/crazy/\r\n    }\r\n]\r\n\r\n# ============================================================\r\n# –ù–ê–°–¢–†–û–ô–ö–ò –ö–ê–†–¢–ò–ù–û–ö\r\n# ============================================================\r\n\r\nimport os\r\nimport random\r\n\r\n# –ü–∞–ø–∫–∞ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏ (—Ä—è–¥–æ–º —Å main.py)\r\nIMAGES_FOLDER = \"images\"\r\n\r\n# –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ –∫–æ—Ç–æ–≤ –∏ –ø–∞–ø–æ–∫ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏\r\nCAT_IMAGE_FOLDERS = {\r\n    \"sleepy\": \"sleepy\",  # –°–æ–Ω–Ω—ã–π –∫–æ—Ç–∏–∫\r\n    \"thoughtful\": \"thoughtful\",  # –ó–∞–¥—É–º—á–∏–≤—ã–π –∫–æ—Ç\r\n    \"happy\": \"happy\",  # –î–æ–≤–æ–ª—å–Ω—ã–π –∫–æ—Ç–∏–∫\r\n    \"playful\": \"playful\",  # –ò–≥—Ä–∏–≤—ã–π –∫–æ—Ç\r\n    \"crazy\": \"crazy\"  # –ö–æ—Ç-—É—Ä–∞–≥–∞–Ω\r\n}\r\n\r\n\r\n# ============================================================\r\n# –§–£–ù–ö–¶–ò–ò –î–õ–Ø –†–ê–ë–û–¢–´ –° –ö–ê–†–¢–ò–ù–ö–ê–ú–ò\r\n# ============================================================\r\n\r\ndef get_random_local_image(folder_name):\r\n    \"\"\"\r\n    –ü–æ–ª—É—á–∞–µ—Ç –ø—É—Ç—å –∫ —Å–ª—É—á–∞–π–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–µ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–π –ø–∞–ø–∫–∏.\r\n\r\n    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:\r\n        folder_name - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ (sleepy, thoughtful, happy, playful, crazy)\r\n\r\n    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:\r\n        –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏–ª–∏ None –µ—Å–ª–∏ –ø–∞–ø–∫–∞ –ø—É—Å—Ç–∞\r\n    \"\"\"\r\n    # –ü–æ–ª—É—á–∞–µ–º –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å–æ —Å–∫—Ä–∏–ø—Ç–æ–º\r\n    script_dir = os.path.dirname(os.path.abspath(__file__))\r\n\r\n    # –ü–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏\r\n    folder_path = os.path.join(script_dir, IMAGES_FOLDER, folder_name)\r\n\r\n    print(f\"[IMG] –ò—â—É –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤: {folder_path}\")\r\n\r\n    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ø–∞–ø–∫–∞\r\n    if not os.path.exists(folder_path):\r\n        print(f\"[IMG] –ü–∞–ø–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞: {folder_path}\")\r\n        return None\r\n\r\n    # –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –∫–∞—Ä—Ç–∏–Ω–æ–∫\r\n    image_extensions = ('.jpg', '.jpeg', '.png', '.gif', '.bmp', '.jfif')\r\n    images = [\r\n        f for f in os.listdir(folder_path)\r\n        if f.lower().endswith(image_extensions)\r\n    ]\r\n\r\n    print(f\"[IMG] –ù–∞–π–¥–µ–Ω–æ –∫–∞—Ä—Ç–∏–Ω–æ–∫: {len(images)}\")\r\n\r\n    if not images:\r\n        print(f\"[IMG] –í –ø–∞–ø–∫–µ –Ω–µ—Ç –∫–∞—Ä—Ç–∏–Ω–æ–∫\")\r\n        return None\r\n\r\n    # –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É\r\n    random_image = random.choice(images)\r\n    full_path = os.path.join(folder_path, random_image)\r\n\r\n    print(f\"[IMG] –í—ã–±—Ä–∞–Ω–∞: {random_image}\")\r\n\r\n    return full_path\r\n\r\n\r\ndef load_local_image(image_path, max_width=250, max_height=250):\r\n    \"\"\"\r\n    –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –µ–≥–æ –¥–ª—è Tkinter.\r\n\r\n    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:\r\n        image_path - –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è\r\n        max_width - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞\r\n        max_height - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞\r\n\r\n    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:\r\n        ImageTk.PhotoImage –æ–±—ä–µ–∫—Ç –∏–ª–∏ None –ø—Ä–∏ –æ—à–∏–±–∫–µ\r\n    \"\"\"\r\n    try:\r\n        print(f\"[IMG] –ó–∞–≥—Ä—É–∂–∞—é —Ñ–∞–π–ª: {image_path}\")\r\n\r\n        # –û—Ç–∫—Ä—ã–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ\r\n        image = Image.open(image_path)\r\n\r\n        print(f\"[IMG] –§–æ—Ä–º–∞—Ç: {image.format}, –†–∞–∑–º–µ—Ä: {image.size}\")\r\n\r\n        # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ RGB\r\n        if image.mode in ('RGBA', 'P', 'LA'):\r\n            background = Image.new('RGB', image.size, (255, 255, 255))\r\n            if image.mode == 'P':\r\n                image = image.convert('RGBA')\r\n            if 'A' in image.mode:\r\n                background.paste(image, mask=image.split()[-1])\r\n            else:\r\n                background.paste(image)\r\n            image = background\r\n        elif image.mode != 'RGB':\r\n            image = image.convert('RGB')\r\n\r\n        # –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º\r\n        width, height = image.size\r\n        ratio = min(max_width / width, max_height / height)\r\n\r\n        if ratio < 1:\r\n            new_width = int(width * ratio)\r\n            new_height = int(height * ratio)\r\n            image = image.resize((new_width, new_height), Image.LANCZOS)\r\n            print(f\"[IMG] –ò–∑–º–µ–Ω—ë–Ω —Ä–∞–∑–º–µ—Ä: {new_width}x{new_height}\")\r\n\r\n        photo = ImageTk.PhotoImage(image)\r\n        print(\"[IMG] –ö–∞—Ä—Ç–∏–Ω–∫–∞ –≥–æ—Ç–æ–≤–∞!\")\r\n        return photo\r\n\r\n    except Exception as e:\r\n        print(f\"[IMG] –û—à–∏–±–∫–∞: {type(e).__name__}: {e}\")\r\n\r\n    return None\r\n\r\n\r\n# ============================================================\r\n# –ö–õ–ê–°–° –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø\r\n# ============================================================\r\n\r\nclass CatMoodTestApp:\r\n    \"\"\"\r\n    –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.\r\n    –°–æ–∑–¥–∞—ë—Ç –æ–∫–Ω–æ –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–º–∏ —ç–∫—Ä–∞–Ω–∞–º–∏ —Ç–µ—Å—Ç–∞.\r\n    \"\"\"\r\n\r\n    def __init__(self):\r\n        \"\"\"\r\n        –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä - –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞.\r\n        –ó–¥–µ—Å—å –º—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.\r\n        \"\"\"\r\n        # –°–æ–∑–¥–∞—ë–º –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ\r\n        self.window = tk.Tk()\r\n        self.window.title(\"\uD83D\uDC31 –ö–∞–∫–æ–π —Ç—ã –∫–æ—Ç —Å–µ–≥–æ–¥–Ω—è?\")\r\n        self.window.geometry(\"600x500\")  # —à–∏—Ä–∏–Ω–∞ x –≤—ã—Å–æ—Ç–∞ –≤ –ø–∏–∫—Å–µ–ª—è—Ö\r\n        self.window.configure(bg=\"#1a1a2e\")  # —Ç—ë–º–Ω—ã–π —Ñ–æ–Ω\r\n\r\n        # –ó–∞–ø—Ä–µ—â–∞–µ–º –∏–∑–º–µ–Ω—è—Ç—å —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ (—á—Ç–æ–±—ã –Ω–µ –ª–æ–º–∞–ª—Å—è –¥–∏–∑–∞–π–Ω)\r\n        self.window.resizable(False, False)\r\n\r\n        # --- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ç–µ—Å—Ç–∞ ---\r\n        self.current_question = 0  # –Ω–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ (–Ω–∞—á–∏–Ω–∞–µ–º —Å 0)\r\n        self.total_score = 0  # —Å—É–º–º–∞ –±–∞–ª–ª–æ–≤ –∑–∞ –æ—Ç–≤–µ—Ç—ã\r\n        self.answers = []  # —Å–ø–∏—Å–æ–∫ –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n\r\n        # --- –°–æ–∑–¥–∞—ë–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ ---\r\n        # Frame - —ç—Ç–æ –∫–∞–∫ –∫–æ—Ä–æ–±–∫–∞, –≤ –∫–æ—Ç–æ—Ä—É—é –º—ã –∫–ª–∞–¥—ë–º –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã\r\n        self.main_frame = tk.Frame(self.window, bg=\"#1a1a2e\")\r\n        self.main_frame.pack(fill=\"both\", expand=True, padx=20, pady=20)\r\n\r\n        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω\r\n        self.show_start_screen()\r\n\r\n    def clear_screen(self):\r\n        \"\"\"\r\n        –û—á–∏—â–∞–µ—Ç —ç–∫—Ä–∞–Ω - —É–¥–∞–ª—è–µ—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ main_frame.\r\n        –í—ã–∑—ã–≤–∞–µ–º –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º –Ω–æ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞.\r\n        \"\"\"\r\n        # –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º –¥–æ—á–µ—Ä–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º –∏ —É–¥–∞–ª—è–µ–º –∏—Ö\r\n        for widget in self.main_frame.winfo_children():\r\n            widget.destroy()\r\n\r\n    def show_start_screen(self):\r\n        \"\"\"\r\n        –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º –∏ –∫–Ω–æ–ø–∫–æ–π –Ω–∞—á–∞–ª–∞ —Ç–µ—Å—Ç–∞.\r\n        \"\"\"\r\n        # –°–Ω–∞—á–∞–ª–∞ –æ—á–∏—â–∞–µ–º —ç–∫—Ä–∞–Ω\r\n        self.clear_screen()\r\n\r\n        # --- –ó–∞–≥–æ–ª–æ–≤–æ–∫ ---\r\n        title_label = tk.Label(\r\n            self.main_frame,\r\n            text=\"\uD83D\uDC31 –ö–∞–∫–æ–π —Ç—ã –∫–æ—Ç —Å–µ–≥–æ–¥–Ω—è? \uD83D\uDC31\",\r\n            font=(\"Arial\", 24, \"bold\"),\r\n            fg=\"#e94560\",  # —Ä–æ–∑–æ–≤—ã–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞\r\n            bg=\"#1a1a2e\"  # —Ñ–æ–Ω –∫–∞–∫ —É —Ä–æ–¥–∏—Ç–µ–ª—è\r\n        )\r\n        title_label.pack(pady=40)  # pady - –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É –∏ —Å–Ω–∏–∑—É\r\n\r\n        # --- –û–ø–∏—Å–∞–Ω–∏–µ ---\r\n        description = (\r\n            \"–ü—Ä–æ–π–¥–∏ –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ—Å—Ç –∏–∑ 5 –≤–æ–ø—Ä–æ—Å–æ–≤\\n\"\r\n            \"–∏ —É–∑–Ω–∞–π, –∫–∞–∫–æ–π —Ç—ã –∫–æ—Ç —Å–µ–≥–æ–¥–Ω—è!\\n\\n\"\r\n            \"\uD83C\uDF19 –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å —Å–≤–æ—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ\"\r\n        )\r\n        desc_label = tk.Label(\r\n            self.main_frame,\r\n            text=description,\r\n            font=(\"Arial\", 14),\r\n            fg=\"#ffffff\",\r\n            bg=\"#1a1a2e\",\r\n            justify=\"center\"  # –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É\r\n        )\r\n        desc_label.pack(pady=30)\r\n\r\n        # --- –ö–Ω–æ–ø–∫–∞ \"–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç\" ---\r\n        start_button = tk.Button(\r\n            self.main_frame,\r\n            text=\"‚ú® –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç ‚ú®\",\r\n            font=(\"Arial\", 16, \"bold\"),\r\n            fg=\"#ffffff\",\r\n            bg=\"#e94560\",\r\n            activebackground=\"#ff6b6b\",  # —Ü–≤–µ—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏\r\n            activeforeground=\"#ffffff\",\r\n            width=20,\r\n            height=2,\r\n            border=0,\r\n            cursor=\"hand2\",  # –∫—É—Ä—Å–æ—Ä-—Ä—É–∫–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏\r\n            command=self.start_test  # —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑–æ–≤–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ\r\n        )\r\n        start_button.pack(pady=40)\r\n\r\n    def start_test(self):\r\n        \"\"\"\r\n        –ù–∞—á–∏–Ω–∞–µ—Ç —Ç–µ—Å—Ç: —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫–∏ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å.\r\n        \"\"\"\r\n        # –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ\r\n        self.current_question = 0\r\n        self.total_score = 0\r\n        self.answers = []\r\n\r\n        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å\r\n        self.show_question()\r\n\r\n    def show_question(self):\r\n        \"\"\"\r\n        –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤.\r\n        \"\"\"\r\n        self.clear_screen()\r\n\r\n        # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –∏–∑ —Å–ø–∏—Å–∫–∞\r\n        question_data = QUESTIONS[self.current_question]\r\n\r\n        # --- –ü—Ä–æ–≥—Ä–µ—Å—Å (–∫–∞–∫–æ–π –≤–æ–ø—Ä–æ—Å –∏–∑ —Å–∫–æ–ª—å–∫–∏) ---\r\n        progress_text = f\"–í–æ–ø—Ä–æ—Å {self.current_question + 1} –∏–∑ {len(QUESTIONS)}\"\r\n        progress_label = tk.Label(\r\n            self.main_frame,\r\n            text=progress_text,\r\n            font=(\"Arial\", 12),\r\n            fg=\"#a0a0a0\",  # —Å–µ—Ä—ã–π —Ü–≤–µ—Ç\r\n            bg=\"#1a1a2e\"\r\n        )\r\n        progress_label.pack(pady=10)\r\n\r\n        # --- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä (–≤–∏–∑—É–∞–ª—å–Ω—ã–π) ---\r\n        # –°–æ–∑–¥–∞—ë–º —Ä–∞–º–∫—É –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞\r\n        progress_frame = tk.Frame(self.main_frame, bg=\"#333333\", height=10)\r\n        progress_frame.pack(fill=\"x\", pady=5)\r\n\r\n        # –í—ã—á–∏—Å–ª—è–µ–º —à–∏—Ä–∏–Ω—É –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —á–∞—Å—Ç–∏ (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)\r\n        progress_percent = (self.current_question + 1) / len(QUESTIONS)\r\n\r\n        # –°–æ–∑–¥–∞—ë–º –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—É—é —á–∞—Å—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞\r\n        progress_fill = tk.Frame(\r\n            progress_frame,\r\n            bg=\"#e94560\",\r\n            height=10,\r\n            width=int(560 * progress_percent)  # 560 = —à–∏—Ä–∏–Ω–∞ –æ–∫–Ω–∞ –º–∏–Ω—É—Å –æ—Ç—Å—Ç—É–ø—ã\r\n        )\r\n        progress_fill.place(x=0, y=0)\r\n\r\n        # --- –¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞ ---\r\n        question_label = tk.Label(\r\n            self.main_frame,\r\n            text=question_data[\"text\"],\r\n            font=(\"Arial\", 18),\r\n            fg=\"#ffffff\",\r\n            bg=\"#1a1a2e\",\r\n            wraplength=500  # –ø–µ—Ä–µ–Ω–æ—Å —Ç–µ–∫—Å—Ç–∞, –µ—Å–ª–∏ –¥–ª–∏–Ω–Ω—ã–π\r\n        )\r\n        question_label.pack(pady=30)\r\n\r\n        # --- –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ (–∫–Ω–æ–ø–∫–∏) ---\r\n        # –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º –≤–∞—Ä–∏–∞–Ω—Ç–∞–º –æ—Ç–≤–µ—Ç–∞\r\n        for option in question_data[\"options\"]:\r\n            # –°–æ–∑–¥–∞—ë–º –∫–Ω–æ–ø–∫—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞\r\n            option_button = tk.Button(\r\n                self.main_frame,\r\n                text=option[\"text\"],\r\n                font=(\"Arial\", 12),\r\n                fg=\"#ffffff\",\r\n                bg=\"#16213e\",\r\n                activebackground=\"#e94560\",\r\n                activeforeground=\"#ffffff\",\r\n                width=40,\r\n                height=2,\r\n                border=0,\r\n                cursor=\"hand2\",\r\n                # lambda –Ω—É–∂–Ω–∞, —á—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞—Ç—å score –≤ —Ñ—É–Ω–∫—Ü–∏—é\r\n                # –±–µ–∑ lambda –≤—Å–µ –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∏ –±—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π score\r\n                command=lambda score=option[\"score\"]: self.answer_question(score)\r\n            )\r\n            option_button.pack(pady=5)\r\n\r\n            # –î–æ–±–∞–≤–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –º—ã—à–∏\r\n            option_button.bind('<Enter>', lambda e, btn=option_button: btn.configure(bg=\"#e94560\"))\r\n            option_button.bind('<Leave>', lambda e, btn=option_button: btn.configure(bg=\"#16213e\"))\r\n\r\n    def answer_question(self, score):\r\n        \"\"\"\r\n        –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å.\r\n        score - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–ª–ª–æ–≤ –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç.\r\n        \"\"\"\r\n        # –î–æ–±–∞–≤–ª—è–µ–º –±–∞–ª–ª—ã –∫ –æ–±—â–µ–º—É —Å—á—ë—Ç—É\r\n        self.total_score += score\r\n\r\n        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç–≤–µ—Ç –≤ —Å–ø–∏—Å–æ–∫\r\n        self.answers.append(score)\r\n\r\n        # –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É\r\n        self.current_question += 1\r\n\r\n        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –µ—â—ë –≤–æ–ø—Ä–æ—Å—ã\r\n        if self.current_question < len(QUESTIONS):\r\n            # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å\r\n            self.show_question()\r\n        else:\r\n            # –í–æ–ø—Ä–æ—Å—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç\r\n            self.show_result()\r\n\r\n    def get_cat_type(self):\r\n        \"\"\"\r\n        –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –∫–æ—Ç–∞ –ø–æ –Ω–∞–±—Ä–∞–Ω–Ω—ã–º –±–∞–ª–ª–∞–º.\r\n        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –æ —Ç–∏–ø–µ –∫–æ—Ç–∞.\r\n        \"\"\"\r\n        # –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º —Ç–∏–ø–∞–º –∫–æ—Ç–æ–≤\r\n        for cat_type in CAT_TYPES:\r\n            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–ø–∞–¥–∞—é—Ç –ª–∏ –±–∞–ª–ª—ã –≤ –¥–∏–∞–ø–∞–∑–æ–Ω —ç—Ç–æ–≥–æ —Ç–∏–ø–∞\r\n            if cat_type[\"min_score\"] <= self.total_score <= cat_type[\"max_score\"]:\r\n                return cat_type\r\n\r\n        # –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–¥–æ—à–ª–æ (–Ω–µ –¥–æ–ª–∂–Ω–æ —Å–ª—É—á–∏—Ç—å—Å—è), –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–µ—Ä–≤—ã–π —Ç–∏–ø\r\n        return CAT_TYPES[0]\r\n\r\n    def show_result(self):\r\n        \"\"\"\r\n        –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞ —Å –∫–∞—Ä—Ç–∏–Ω–∫–æ–π –∫–æ—Ç–∞ –∏–∑ API.\r\n        \"\"\"\r\n        self.clear_screen()\r\n\r\n        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∫–æ—Ç–∞\r\n        cat_type = self.get_cat_type()\r\n\r\n        # --- –ó–∞–≥–æ–ª–æ–≤–æ–∫ \"–¢–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç\" ---\r\n        result_title = tk.Label(\r\n            self.main_frame,\r\n            text=\"‚ú® –¢–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚ú®\",\r\n            font=(\"Arial\", 16),\r\n            fg=\"#a0a0a0\",\r\n            bg=\"#1a1a2e\"\r\n        )\r\n        result_title.pack(pady=10)\r\n\r\n        # --- –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ –∫–æ—Ç–∞ ---\r\n        cat_name_label = tk.Label(\r\n            self.main_frame,\r\n            text=cat_type[\"name\"],\r\n            font=(\"Arial\", 24, \"bold\"),\r\n            fg=cat_type[\"color\"],  # –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ü–≤–µ—Ç –∏–∑ –¥–∞–Ω–Ω—ã—Ö\r\n            bg=\"#1a1a2e\"\r\n        )\r\n        cat_name_label.pack(pady=5)\r\n\r\n        # --- –ë–∞–ª–ª—ã ---\r\n        score_label = tk.Label(\r\n            self.main_frame,\r\n            text=f\"–¢–≤–æ–∏ –±–∞–ª–ª—ã: {self.total_score} –∏–∑ {len(QUESTIONS) * 5}\",\r\n            font=(\"Arial\", 11),\r\n            fg=\"#a0a0a0\",\r\n            bg=\"#1a1a2e\"\r\n        )\r\n        score_label.pack(pady=5)\r\n\r\n        # --- –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∫–æ—Ç–∞ ---\r\n        # –°–æ–∑–¥–∞—ë–º —Ä–∞–º–∫—É –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–∫–∏\r\n        image_frame = tk.Frame(self.main_frame, bg=\"#1a1a2e\")\r\n        image_frame.pack(pady=10)\r\n\r\n        # –ú–µ—Ç–∫–∞ –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ (—Å–Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏)\r\n        self.image_label = tk.Label(\r\n            image_frame,\r\n            text=\"\uD83D\uDC31 –ó–∞–≥—Ä—É–∂–∞—é –∫–æ—Ç–∏–∫–∞...\",\r\n            font=(\"Arial\", 12),\r\n            fg=\"#a0a0a0\",\r\n            bg=\"#1a1a2e\"\r\n        )\r\n        self.image_label.pack()\r\n\r\n        # –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ, —á—Ç–æ–±—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –∑–∞–≤–∏—Å–∞–ª\r\n        # –ù–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã —Å–¥–µ–ª–∞–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (–ø–æ–¥–æ–∂–¥—ë–º –∑–∞–≥—Ä—É–∑–∫—É)\r\n        self.load_cat_image(cat_type[\"image_folder\"])\r\n\r\n        # --- –û–ø–∏—Å–∞–Ω–∏–µ —Ç–∏–ø–∞ ---\r\n        # –°–æ–∑–¥–∞—ë–º —Ä–∞–º–∫—É —Å —Ü–≤–µ—Ç–Ω–æ–π –≥—Ä–∞–Ω–∏—Ü–µ–π –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è\r\n        desc_frame = tk.Frame(\r\n            self.main_frame,\r\n            bg=cat_type[\"color\"],\r\n            padx=3,\r\n            pady=3\r\n        )\r\n        desc_frame.pack(pady=10, padx=20, fill=\"x\")\r\n\r\n        # –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —á–∞—Å—Ç—å —Ä–∞–º–∫–∏\r\n        desc_inner = tk.Frame(desc_frame, bg=\"#16213e\")\r\n        desc_inner.pack(fill=\"both\", expand=True)\r\n\r\n        desc_label = tk.Label(\r\n            desc_inner,\r\n            text=cat_type[\"description\"],\r\n            font=(\"Arial\", 11),\r\n            fg=\"#ffffff\",\r\n            bg=\"#16213e\",\r\n            wraplength=450,\r\n            justify=\"center\",\r\n            padx=15,\r\n            pady=10\r\n        )\r\n        desc_label.pack()\r\n\r\n        # --- –ö–Ω–æ–ø–∫–∏ ---\r\n        buttons_frame = tk.Frame(self.main_frame, bg=\"#1a1a2e\")\r\n        buttons_frame.pack(pady=15)\r\n\r\n        # –ö–Ω–æ–ø–∫–∞ \"–î—Ä—É–≥–æ–π –∫–æ—Ç–∏–∫\" - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–æ–≤—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É\r\n        new_cat_button = tk.Button(\r\n            buttons_frame,\r\n            text=\"\uD83D\uDD04 –î—Ä—É–≥–æ–π –∫–æ—Ç–∏–∫\",\r\n            font=(\"Arial\", 11),\r\n            fg=\"#ffffff\",\r\n            bg=\"#16213e\",\r\n            activebackground=\"#e94560\",\r\n            activeforeground=\"#ffffff\",\r\n            width=14,\r\n            height=2,\r\n            border=0,\r\n            cursor=\"hand2\",\r\n            command=lambda: self.load_cat_image(cat_type[\"image_folder\"])\r\n        )\r\n        new_cat_button.pack(side=\"left\", padx=5)\r\n\r\n        # –ö–Ω–æ–ø–∫–∞ \"–ü—Ä–æ–π—Ç–∏ –µ—â—ë —Ä–∞–∑\"\r\n        retry_button = tk.Button(\r\n            buttons_frame,\r\n            text=\"\uD83D\uDD01 –ó–∞–Ω–æ–≤–æ\",\r\n            font=(\"Arial\", 11),\r\n            fg=\"#ffffff\",\r\n            bg=\"#16213e\",\r\n            activebackground=\"#e94560\",\r\n            activeforeground=\"#ffffff\",\r\n            width=14,\r\n            height=2,\r\n            border=0,\r\n            cursor=\"hand2\",\r\n            command=self.start_test\r\n        )\r\n        retry_button.pack(side=\"left\", padx=5)\r\n\r\n        # –ö–Ω–æ–ø–∫–∞ \"–ù–∞ –≥–ª–∞–≤–Ω—É—é\"\r\n        home_button = tk.Button(\r\n            buttons_frame,\r\n            text=\"\uD83C\uDFE0 –ù–∞ –≥–ª–∞–≤–Ω—É—é\",\r\n            font=(\"Arial\", 11),\r\n            fg=\"#ffffff\",\r\n            bg=\"#16213e\",\r\n            activebackground=\"#e94560\",\r\n            activeforeground=\"#ffffff\",\r\n            width=14,\r\n            height=2,\r\n            border=0,\r\n            cursor=\"hand2\",\r\n            command=self.show_start_screen\r\n        )\r\n        home_button.pack(side=\"left\", padx=5)\r\n\r\n    def load_cat_image(self, image_folder):\r\n        \"\"\"\r\n        –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É –∫–æ—Ç–∞ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–∞–ø–∫–∏.\r\n\r\n        –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:\r\n            image_folder - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏ (sleepy, happy –∏ —Ç.–¥.)\r\n        \"\"\"\r\n        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ –∏–¥—ë—Ç –∑–∞–≥—Ä—É–∑–∫–∞\r\n        self.image_label.config(text=\"\uD83D\uDC31 –ò—â—É –∫–æ—Ç–∏–∫–∞...\", image=\"\")\r\n\r\n        # –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å\r\n        self.window.update()\r\n\r\n        # –ü–æ–ª—É—á–∞–µ–º –ø—É—Ç—å –∫ —Å–ª—É—á–∞–π–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–µ –∏–∑ –ø–∞–ø–∫–∏\r\n        image_path = get_random_local_image(image_folder)\r\n\r\n        if image_path:\r\n            # –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ\r\n            photo = load_local_image(image_path, max_width=200, max_height=200)\r\n\r\n            if photo:\r\n                # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ\r\n                # –í–∞–∂–Ω–æ! –ë–µ–∑ —ç—Ç–æ–≥–æ Python —É–¥–∞–ª–∏—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ –ø–∞–º—è—Ç–∏\r\n                self.current_photo = photo\r\n\r\n                # –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É\r\n                self.image_label.config(image=photo, text=\"\")\r\n            else:\r\n                self.image_label.config(text=\"\uD83D\uDE3F –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É\")\r\n        else:\r\n            self.image_label.config(text=\"\uD83D\uDE3F –ö–∞—Ä—Ç–∏–Ω–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã\\n–î–æ–±–∞–≤—å –≤ –ø–∞–ø–∫—É images/\")\r\n\r\n    def run(self):\r\n        \"\"\"\r\n        –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.\r\n        mainloop() - —ç—Ç–æ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª, –∫–æ—Ç–æ—Ä—ã–π –∂–¥—ë—Ç –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.\r\n        \"\"\"\r\n        self.window.mainloop()\r\n\r\n\r\n# ============================================================\r\n# –¢–û–ß–ö–ê –í–•–û–î–ê –í –ü–†–û–ì–†–ê–ú–ú–£\r\n# ============================================================\r\n\r\n# –≠—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω—É–∂–Ω–∞, —á—Ç–æ–±—ã –∫–æ–¥ –Ω–∏–∂–µ –≤—ã–ø–æ–ª–Ω—è–ª—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ñ–∞–π–ª–∞ –Ω–∞–ø—Ä—è–º—É—é\r\n# (–∞ –Ω–µ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –≤ –¥—Ä—É–≥–æ–π —Ñ–∞–π–ª)\r\nif __name__ == \"__main__\":\r\n    # –°–æ–∑–¥–∞—ë–º —ç–∫–∑–µ–º–ø–ª—è—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\r\n    app = CatMoodTestApp()\r\n\r\n    # –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ\r\n    app.run()\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/main.py b/main.py
--- a/main.py	(revision 7edccef1e210d89faeef5ff4004dc9b1fb4f3c7b)
+++ b/main.py	(date 1767905047690)
@@ -1,39 +1,173 @@
 # ============================================================
-# –ö–û–¢–û–ì–ê–î–ê–õ–ö–ê - –ú–∏–Ω–∏-—Ç–µ—Å—Ç "–ö–∞–∫–æ–π —Ç—ã –∫–æ—Ç —Å–µ–≥–æ–¥–Ω—è?"
+# –ö–û–¢–û–ì–ê–î–ê–õ–ö–ê - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≥–∞–¥–∞–Ω–∏–π
 # ============================================================
-# –≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –Ω–∞ Tkinter
-# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∏ —É–∑–Ω–∞—ë—Ç, –∫–∞–∫–æ–π –æ–Ω –∫–æ—Ç
+# –í–∫–ª—é—á–∞–µ—Ç: —Ç–µ—Å—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è, —Ç–∞—Ä–æ —Ä–∞—Å–∫–ª–∞–¥, –¥–Ω–µ–≤–Ω–∏–∫
 # ============================================================
 
 # --- –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –î–õ–Ø WINDOWS + POETRY ---
-# Poetry —Å–æ–∑–¥–∞—ë—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –≤–∏–¥–∏—Ç Tcl/Tk
-# –≠—Ç–æ—Ç –∫–æ–¥ —É–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º Tcl/Tk
 import os
 import sys
 
-# –ü–æ–ª—É—á–∞–µ–º –ø—É—Ç—å –∫ —Å–∏—Å—Ç–µ–º–Ω–æ–º—É Python (–≥–¥–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Tcl/Tk)
 python_dir = sys.base_prefix
-
-# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Tcl –∏ Tk
 os.environ['TCL_LIBRARY'] = os.path.join(python_dir, 'tcl', 'tcl8.6')
 os.environ['TK_LIBRARY'] = os.path.join(python_dir, 'tcl', 'tk8.6')
 
 # --- –ò–ú–ü–û–†–¢–´ ---
-# tkinter - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Python –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–∫–æ–Ω –∏ –∫–Ω–æ–ø–æ–∫
 import tkinter as tk
-from tkinter import messagebox  # –¥–ª—è –≤—Å–ø–ª—ã–≤–∞—é—â–∏—Ö –æ–∫–æ–Ω —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
-
-# PIL (Pillow) - –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ Tkinter
-# –£—Å—Ç–∞–Ω–æ–≤–∫–∞: pip install Pillow (–∏–ª–∏ poetry add Pillow)
+from tkinter import messagebox
 from PIL import Image, ImageTk
+import random
+import json
+import sqlite3
+from datetime import datetime
+
+
+# ============================================================
+# –ë–ê–ó–ê –î–ê–ù–ù–´–• (SQLite)
+# ============================================================
+
+class Database:
+    """
+    –ö–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö SQLite.
+    –•—Ä–∞–Ω–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ –∏ —Ä–∞—Å–∫–ª–∞–¥–æ–≤ —Ç–∞—Ä–æ.
+    """
+    
+    def __init__(self, db_name="cat_oracle.db"):
+        """
+        –°–æ–∑–¥–∞—ë—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ —Ç–∞–±–ª–∏—Ü—ã.
+        """
+        # –ü—É—Ç—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (—Ä—è–¥–æ–º —Å–æ —Å–∫—Ä–∏–ø—Ç–æ–º)
+        script_dir = os.path.dirname(os.path.abspath(__file__))
+        self.db_path = os.path.join(script_dir, db_name)
+        
+        # –°–æ–∑–¥–∞—ë–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
+        self.connection = sqlite3.connect(self.db_path)
+        self.cursor = self.connection.cursor()
+        
+        # –°–æ–∑–¥–∞—ë–º —Ç–∞–±–ª–∏—Ü—ã
+        self.create_tables()
+        
+        print(f"[DB] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: {self.db_path}")
+    
+    def create_tables(self):
+        """
+        –°–æ–∑–¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—ã, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç.
+        """
+        # –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
+        self.cursor.execute('''
+            CREATE TABLE IF NOT EXISTS mood_results (
+                id INTEGER PRIMARY KEY AUTOINCREMENT,
+                date TEXT NOT NULL,
+                cat_type TEXT NOT NULL,
+                score INTEGER NOT NULL,
+                answers TEXT
+            )
+        ''')
+        
+        # –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ä–∞—Å–∫–ª–∞–¥–æ–≤ —Ç–∞—Ä–æ
+        self.cursor.execute('''
+            CREATE TABLE IF NOT EXISTS tarot_readings (
+                id INTEGER PRIMARY KEY AUTOINCREMENT,
+                date TEXT NOT NULL,
+                card1_name TEXT,
+                card2_name TEXT,
+                card3_name TEXT,
+                prediction_love TEXT,
+                prediction_career TEXT,
+                prediction_finance TEXT
+            )
+        ''')
+        
+        self.connection.commit()
+        print("[DB] –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã")
+    
+    def save_mood_result(self, cat_type, score, answers):
+        """
+        –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è.
+        """
+        date = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
+        answers_str = ",".join(map(str, answers))
+        
+        self.cursor.execute('''
+            INSERT INTO mood_results (date, cat_type, score, answers)
+            VALUES (?, ?, ?, ?)
+        ''', (date, cat_type, score, answers_str))
+        
+        self.connection.commit()
+        print(f"[DB] –°–æ—Ö—Ä–∞–Ω—ë–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞: {cat_type}")
+    
+    def save_tarot_reading(self, cards, prediction):
+        """
+        –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–∞—Å–∫–ª–∞–¥ —Ç–∞—Ä–æ.
+        """
+        date = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
+        
+        # –ü–æ–ª—É—á–∞–µ–º –∏–º–µ–Ω–∞ –∫–∞—Ä—Ç
+        card_names = [card.name if card else "" for card in cards]
+        while len(card_names) < 3:
+            card_names.append("")
+        
+        self.cursor.execute('''
+            INSERT INTO tarot_readings 
+            (date, card1_name, card2_name, card3_name, 
+             prediction_love, prediction_career, prediction_finance)
+            VALUES (?, ?, ?, ?, ?, ?, ?)
+        ''', (
+            date, 
+            card_names[0], card_names[1], card_names[2],
+            prediction.get('love', ''),
+            prediction.get('career', ''),
+            prediction.get('finance', '')
+        ))
+        
+        self.connection.commit()
+        print(f"[DB] –°–æ—Ö—Ä–∞–Ω—ë–Ω —Ä–∞—Å–∫–ª–∞–¥ —Ç–∞—Ä–æ")
+    
+    def get_mood_history(self, limit=20):
+        """
+        –ü–æ–ª—É—á–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Ç–µ—Å—Ç–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è.
+        """
+        self.cursor.execute('''
+            SELECT date, cat_type, score FROM mood_results
+            ORDER BY date DESC LIMIT ?
+        ''', (limit,))
+        
+        return self.cursor.fetchall()
+    
+    def get_tarot_history(self, limit=20):
+        """
+        –ü–æ–ª—É—á–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Ä–∞—Å–∫–ª–∞–¥–æ–≤ —Ç–∞—Ä–æ.
+        """
+        self.cursor.execute('''
+            SELECT date, card1_name, card2_name, card3_name FROM tarot_readings
+            ORDER BY date DESC LIMIT ?
+        ''', (limit,))
+        
+        return self.cursor.fetchall()
+    
+    def get_mood_statistics(self):
+        """
+        –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Ç–∏–ø–∞–º –∫–æ—Ç–æ–≤.
+        """
+        self.cursor.execute('''
+            SELECT cat_type, COUNT(*) as count FROM mood_results
+            GROUP BY cat_type ORDER BY count DESC
+        ''')
+        
+        return self.cursor.fetchall()
+    
+    def close(self):
+        """
+        –ó–∞–∫—Ä—ã–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.
+        """
+        self.connection.close()
+        print("[DB] –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ")
+
 
 # ============================================================
-# –î–ê–ù–ù–´–ï –î–õ–Ø –¢–ï–°–¢–ê
+# –î–ê–ù–ù–´–ï –î–õ–Ø –¢–ï–°–¢–ê –ù–ê–°–¢–†–û–ï–ù–ò–Ø
 # ============================================================
 
-# –°–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ —Ç–µ—Å—Ç–∞
-# –ö–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å - —ç—Ç–æ —Å–ª–æ–≤–∞—Ä—å —Å —Ç–µ–∫—Å—Ç–æ–º –≤–æ–ø—Ä–æ—Å–∞ –∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤
-# –ö–∞–∂–¥—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—Å—Ç –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–ª–ª–æ–≤ (score)
 QUESTIONS = [
     {
         "text": "–ö–∞–∫ —Ç—ã —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—à—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å?",
@@ -87,81 +221,57 @@
     }
 ]
 
-# –¢–∏–ø—ã –∫–æ—Ç–æ–≤ (—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞)
-# –ö–∞–∂–¥—ã–π —Ç–∏–ø —Å–æ–¥–µ—Ä–∂–∏—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –¥–∏–∞–ø–∞–∑–æ–Ω –±–∞–ª–ª–æ–≤ (min, max), —Ü–≤–µ—Ç
-# image_folder - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏ –¥–ª—è —ç—Ç–æ–≥–æ —Ç–∏–ø–∞
 CAT_TYPES = [
     {
         "name": "–°–æ–Ω–Ω—ã–π –∫–æ—Ç–∏–∫ üò¥",
         "description": "–°–µ–≥–æ–¥–Ω—è —Ç–µ–±–µ –Ω—É–∂–µ–Ω –æ—Ç–¥—ã—Ö. –ü–æ–∑–≤–æ–ª—å —Å–µ–±–µ —Ä–∞—Å—Å–ª–∞–±–∏—Ç—å—Å—è, "
-                       "–∫–∞–∫ –∫–æ—Ç –Ω–∞ –º—è–≥–∫–æ–º –ø–ª–µ–¥–µ. –ù–µ —Ç—Ä–µ–±—É–π –æ—Ç —Å–µ–±—è —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ–≥–æ. "
-                       "–ì–æ—Ä—è—á–∏–π —á–∞–π, —Ç—ë–ø–ª—ã–π –ø–ª–µ–¥ –∏ –ª—é–±–∏–º—ã–π —Å–µ—Ä–∏–∞–ª ‚Äî –≤–æ—Ç —Ç–≤–æ–π —Ä–µ—Ü–µ–ø—Ç –Ω–∞ —Å–µ–≥–æ–¥–Ω—è!",
+                       "–∫–∞–∫ –∫–æ—Ç –Ω–∞ –º—è–≥–∫–æ–º –ø–ª–µ–¥–µ. –ù–µ —Ç—Ä–µ–±—É–π –æ—Ç —Å–µ–±—è —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ–≥–æ.",
         "min_score": 5,
         "max_score": 9,
-        "color": "#9E9E9E",  # —Å–µ—Ä—ã–π —Ü–≤–µ—Ç
-        "image_folder": "sleepy"  # –ø–∞–ø–∫–∞ images/sleepy/
+        "color": "#9E9E9E",
+        "image_folder": "sleepy"
     },
     {
         "name": "–ó–∞–¥—É–º—á–∏–≤—ã–π –∫–æ—Ç üê±",
         "description": "–¢—ã —Å–µ–≥–æ–¥–Ω—è –≤ —Å–æ–∑–µ—Ä—Ü–∞—Ç–µ–ª—å–Ω–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–∏. –•–æ—Ä–æ—à–µ–µ –≤—Ä–µ–º—è "
-                       "–¥–ª—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–π –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è. –ö–∞–∫ –∫–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–º–æ—Ç—Ä–∏—Ç "
-                       "–≤ –æ–∫–Ω–æ –∏ –¥—É–º–∞–µ—Ç –æ –≤–∞–∂–Ω–æ–º. –ú–æ–∂–µ—Ç, —Å—Ç–æ–∏—Ç –∑–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ–∏ –º—ã—Å–ª–∏?",
+                       "–¥–ª—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–π –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.",
         "min_score": 10,
         "max_score": 14,
-        "color": "#78909C",  # —Å–µ—Ä–æ-–≥–æ–ª—É–±–æ–π
-        "image_folder": "thoughtful"  # –ø–∞–ø–∫–∞ images/thoughtful/
+        "color": "#78909C",
+        "image_folder": "thoughtful"
     },
     {
         "name": "–î–æ–≤–æ–ª—å–Ω—ã–π –∫–æ—Ç–∏–∫ üò∫",
         "description": "–£ —Ç–µ–±—è —Ö–æ—Ä–æ—à–µ–µ, —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ! –ö–∞–∫ –∫–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π "
-                       "–ø–æ–µ–ª –∏ —Ç–µ–ø–µ—Ä—å –¥–æ–≤–æ–ª–µ–Ω –∂–∏–∑–Ω—å—é. –û—Ç–ª–∏—á–Ω—ã–π –¥–µ–Ω—å –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –¥–µ–ª "
-                       "–∏ –º–∞–ª–µ–Ω—å–∫–∏—Ö —Ä–∞–¥–æ—Å—Ç–µ–π. –ú—É—Ä-–º—É—Ä!",
+                       "–ø–æ–µ–ª –∏ —Ç–µ–ø–µ—Ä—å –¥–æ–≤–æ–ª–µ–Ω –∂–∏–∑–Ω—å—é. –ú—É—Ä-–º—É—Ä!",
         "min_score": 15,
         "max_score": 19,
-        "color": "#81C784",  # –∑–µ–ª—ë–Ω—ã–π
-        "image_folder": "happy"  # –ø–∞–ø–∫–∞ images/happy/
+        "color": "#81C784",
+        "image_folder": "happy"
     },
     {
         "name": "–ò–≥—Ä–∏–≤—ã–π –∫–æ—Ç üò∏",
-        "description": "–¢—ã –ø–æ–ª–æ–Ω —ç–Ω–µ—Ä–≥–∏–∏ –∏ –≥–æ—Ç–æ–≤ –∫ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è–º! –ö–∞–∫ –∫–æ—Ç—ë–Ω–æ–∫, "
-                       "–∫–æ—Ç–æ—Ä—ã–π –≥–æ–Ω—è–µ—Ç—Å—è –∑–∞ —Å–æ–ª–Ω–µ—á–Ω—ã–º –∑–∞–π—á–∏–∫–æ–º. –û—Ç–ª–∏—á–Ω—ã–π –¥–µ–Ω—å "
+        "description": "–¢—ã –ø–æ–ª–æ–Ω —ç–Ω–µ—Ä–≥–∏–∏ –∏ –≥–æ—Ç–æ–≤ –∫ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è–º! –û—Ç–ª–∏—á–Ω—ã–π –¥–µ–Ω—å "
                        "–¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –∏ –Ω–æ–≤—ã—Ö –Ω–∞—á–∏–Ω–∞–Ω–∏–π!",
         "min_score": 20,
         "max_score": 22,
-        "color": "#FFB74D",  # –æ—Ä–∞–Ω–∂–µ–≤—ã–π
-        "image_folder": "playful"  # –ø–∞–ø–∫–∞ images/playful/
+        "color": "#FFB74D",
+        "image_folder": "playful"
     },
     {
         "name": "–ö–æ—Ç-—É—Ä–∞–≥–∞–Ω üôÄ",
         "description": "–≠–Ω–µ—Ä–≥–∏—è –±—å—ë—Ç —á–µ—Ä–µ–∑ –∫—Ä–∞–π! –¢—ã –∫–∞–∫ –∫–æ—Ç –≤ 3 —á–∞—Å–∞ –Ω–æ—á–∏ ‚Äî "
-                       "–≥–æ—Ç–æ–≤ —Å–≤–µ—Ä–Ω—É—Ç—å –≥–æ—Ä—ã –∏ –Ω–æ—Å–∏—Ç—å—Å—è –ø–æ –ø–æ—Ç–æ–ª–∫—É! –ò—Å–ø–æ–ª—å–∑—É–π "
-                       "—ç—Ç—É —ç–Ω–µ—Ä–≥–∏—é —Å —É–º–æ–º ‚Äî —Å–µ–≥–æ–¥–Ω—è —Ç–µ–±–µ –≤—Å—ë –ø–æ –ø–ª–µ—á—É!",
+                       "–≥–æ—Ç–æ–≤ —Å–≤–µ—Ä–Ω—É—Ç—å –≥–æ—Ä—ã –∏ –Ω–æ—Å–∏—Ç—å—Å—è –ø–æ –ø–æ—Ç–æ–ª–∫—É!",
         "min_score": 23,
         "max_score": 25,
-        "color": "#FF7043",  # –∫—Ä–∞—Å–Ω–æ-–æ—Ä–∞–Ω–∂–µ–≤—ã–π
-        "image_folder": "crazy"  # –ø–∞–ø–∫–∞ images/crazy/
+        "color": "#FF7043",
+        "image_folder": "crazy"
     }
 ]
 
-# ============================================================
-# –ù–ê–°–¢–†–û–ô–ö–ò –ö–ê–†–¢–ò–ù–û–ö
-# ============================================================
-
-import os
-import random
-
-# –ü–∞–ø–∫–∞ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏ (—Ä—è–¥–æ–º —Å main.py)
+# –ü–∞–ø–∫–∞ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏
 IMAGES_FOLDER = "images"
 
-# –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ –∫–æ—Ç–æ–≤ –∏ –ø–∞–ø–æ–∫ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏
-CAT_IMAGE_FOLDERS = {
-    "sleepy": "sleepy",  # –°–æ–Ω–Ω—ã–π –∫–æ—Ç–∏–∫
-    "thoughtful": "thoughtful",  # –ó–∞–¥—É–º—á–∏–≤—ã–π –∫–æ—Ç
-    "happy": "happy",  # –î–æ–≤–æ–ª—å–Ω—ã–π –∫–æ—Ç–∏–∫
-    "playful": "playful",  # –ò–≥—Ä–∏–≤—ã–π –∫–æ—Ç
-    "crazy": "crazy"  # –ö–æ—Ç-—É—Ä–∞–≥–∞–Ω
-}
-
 
 # ============================================================
 # –§–£–ù–ö–¶–ò–ò –î–õ–Ø –†–ê–ë–û–¢–´ –° –ö–ê–†–¢–ò–ù–ö–ê–ú–ò
@@ -169,69 +279,32 @@
 
 def get_random_local_image(folder_name):
     """
-    –ü–æ–ª—É—á–∞–µ—Ç –ø—É—Ç—å –∫ —Å–ª—É—á–∞–π–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–µ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–π –ø–∞–ø–∫–∏.
-
-    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
-        folder_name - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ (sleepy, thoughtful, happy, playful, crazy)
-
-    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
-        –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏–ª–∏ None –µ—Å–ª–∏ –ø–∞–ø–∫–∞ –ø—É—Å—Ç–∞
+    –ü–æ–ª—É—á–∞–µ—Ç –ø—É—Ç—å –∫ —Å–ª—É—á–∞–π–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–µ –∏–∑ –ø–∞–ø–∫–∏.
     """
-    # –ü–æ–ª—É—á–∞–µ–º –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å–æ —Å–∫—Ä–∏–ø—Ç–æ–º
     script_dir = os.path.dirname(os.path.abspath(__file__))
-
-    # –ü–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏
     folder_path = os.path.join(script_dir, IMAGES_FOLDER, folder_name)
-
-    print(f"[IMG] –ò—â—É –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤: {folder_path}")
-
-    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ø–∞–ø–∫–∞
+    
     if not os.path.exists(folder_path):
         print(f"[IMG] –ü–∞–ø–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞: {folder_path}")
         return None
-
-    # –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –∫–∞—Ä—Ç–∏–Ω–æ–∫
+    
     image_extensions = ('.jpg', '.jpeg', '.png', '.gif', '.bmp', '.jfif')
-    images = [
-        f for f in os.listdir(folder_path)
-        if f.lower().endswith(image_extensions)
-    ]
-
-    print(f"[IMG] –ù–∞–π–¥–µ–Ω–æ –∫–∞—Ä—Ç–∏–Ω–æ–∫: {len(images)}")
-
+    images = [f for f in os.listdir(folder_path) if f.lower().endswith(image_extensions)]
+    
     if not images:
-        print(f"[IMG] –í –ø–∞–ø–∫–µ –Ω–µ—Ç –∫–∞—Ä—Ç–∏–Ω–æ–∫")
         return None
-
-    # –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É
+    
     random_image = random.choice(images)
-    full_path = os.path.join(folder_path, random_image)
-
-    print(f"[IMG] –í—ã–±—Ä–∞–Ω–∞: {random_image}")
-
-    return full_path
+    return os.path.join(folder_path, random_image)
 
 
 def load_local_image(image_path, max_width=250, max_height=250):
     """
-    –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –µ–≥–æ –¥–ª—è Tkinter.
-
-    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
-        image_path - –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
-        max_width - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞
-        max_height - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞
-
-    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
-        ImageTk.PhotoImage –æ–±—ä–µ–∫—Ç –∏–ª–∏ None –ø—Ä–∏ –æ—à–∏–±–∫–µ
+    –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –¥–ª—è Tkinter.
     """
     try:
-        print(f"[IMG] –ó–∞–≥—Ä—É–∂–∞—é —Ñ–∞–π–ª: {image_path}")
-
-        # –û—Ç–∫—Ä—ã–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
         image = Image.open(image_path)
-
-        print(f"[IMG] –§–æ—Ä–º–∞—Ç: {image.format}, –†–∞–∑–º–µ—Ä: {image.size}")
-
+        
         # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ RGB
         if image.mode in ('RGBA', 'P', 'LA'):
             background = Image.new('RGB', image.size, (255, 255, 255))
@@ -244,434 +317,898 @@
             image = background
         elif image.mode != 'RGB':
             image = image.convert('RGB')
-
+        
         # –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º
         width, height = image.size
         ratio = min(max_width / width, max_height / height)
-
+        
         if ratio < 1:
             new_width = int(width * ratio)
             new_height = int(height * ratio)
             image = image.resize((new_width, new_height), Image.LANCZOS)
-            print(f"[IMG] –ò–∑–º–µ–Ω—ë–Ω —Ä–∞–∑–º–µ—Ä: {new_width}x{new_height}")
-
-        photo = ImageTk.PhotoImage(image)
-        print("[IMG] –ö–∞—Ä—Ç–∏–Ω–∫–∞ –≥–æ—Ç–æ–≤–∞!")
-        return photo
-
+        
+        return ImageTk.PhotoImage(image)
+    
     except Exception as e:
-        print(f"[IMG] –û—à–∏–±–∫–∞: {type(e).__name__}: {e}")
-
-    return None
+        print(f"[IMG] –û—à–∏–±–∫–∞: {e}")
+        return None
 
 
 # ============================================================
-# –ö–õ–ê–°–° –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø
+# –ö–õ–ê–°–°–´ –î–õ–Ø –¢–ê–†–û
+# ============================================================
+
+class TarotCard:
+    """–ö–ª–∞—Å—Å –∫–∞—Ä—Ç—ã —Ç–∞—Ä–æ."""
+    
+    def __init__(self, name, value, image_path):
+        self.name = name
+        self.value = value
+        self.image_path = image_path
+
+
+class Deck:
+    """–ö–ª–∞—Å—Å –∫–æ–ª–æ–¥—ã —Ç–∞—Ä–æ."""
+    
+    BASEPATH = 'images/tarot/png/'
+    
+    def __init__(self):
+        script_dir = os.path.dirname(os.path.abspath(__file__))
+        markup_path = os.path.join(script_dir, 'markup.json')
+        
+        with open(markup_path, 'r') as markup_file:
+            markup = json.load(markup_file)
+        
+        self.cards = []
+        for i in markup:
+            card_path = os.path.join(script_dir, self.BASEPATH + i['name'] + '.png')
+            self.cards.append(TarotCard(i['name'], i['id'], card_path))
+    
+    def pull_card(self):
+        """–í—ã—Ç—è–≥–∏–≤–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é –∫–∞—Ä—Ç—É –∏–∑ –∫–æ–ª–æ–¥—ã."""
+        card = random.choice(self.cards)
+        self.cards.remove(card)
+        return card
+    
+    def reset(self):
+        """–°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∫–æ–ª–æ–¥—É (–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–∞—Ä—Ç—ã)."""
+        self.__init__()
+
+
+def get_prediction(cards):
+    """–ü–æ–ª—É—á–∞–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –æ—Ç API."""
+    import requests
+    import base64
+    
+    try:
+        auth = "Basic " + base64.b64encode(
+            "649129:12788919b4c04b4ce2ddd4c31b36260a2aecf2d9".encode()
+        ).decode()
+        
+        r = requests.post(
+            "https://json.astrologyapi.com/v1/tarot_predictions",
+            headers={
+                'Authorization': auth,
+                'Content-Type': 'application/json'
+            },
+            params={
+                'love': cards[0].value,
+                'career': cards[1].value,
+                'finance': cards[2].value
+            },
+            timeout=15
+        )
+        
+        return r.json()
+    except Exception as e:
+        print(f"[API] –û—à–∏–±–∫–∞: {e}")
+        # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∑–∞–≥–ª—É—à–∫—É –ø—Ä–∏ –æ—à–∏–±–∫–µ
+        return {
+            'love': '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.',
+            'career': '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.',
+            'finance': '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.'
+        }
+
+
+# ============================================================
+# –ì–õ–ê–í–ù–û–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–ï
 # ============================================================
 
-class CatMoodTestApp:
+class MainApp:
     """
-    –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
-    –°–æ–∑–¥–∞—ë—Ç –æ–∫–Ω–æ –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–º–∏ —ç–∫—Ä–∞–Ω–∞–º–∏ —Ç–µ—Å—Ç–∞.
+    –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –º–µ–Ω—é –≤—ã–±–æ—Ä–∞.
     """
-
+    
+    # –¶–≤–µ—Ç–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
+    BG_COLOR = "#1a1a2e"
+    ACCENT_COLOR = "#e94560"
+    BUTTON_COLOR = "#16213e"
+    TEXT_COLOR = "#ffffff"
+    GRAY_COLOR = "#a0a0a0"
+    
     def __init__(self):
-        """
-        –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä - –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞.
-        –ó–¥–µ—Å—å –º—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
-        """
-        # –°–æ–∑–¥–∞—ë–º –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ
+        # –°–æ–∑–¥–∞—ë–º –æ–∫–Ω–æ
         self.window = tk.Tk()
-        self.window.title("üê± –ö–∞–∫–æ–π —Ç—ã –∫–æ—Ç —Å–µ–≥–æ–¥–Ω—è?")
-        self.window.geometry("600x500")  # —à–∏—Ä–∏–Ω–∞ x –≤—ã—Å–æ—Ç–∞ –≤ –ø–∏–∫—Å–µ–ª—è—Ö
-        self.window.configure(bg="#1a1a2e")  # —Ç—ë–º–Ω—ã–π —Ñ–æ–Ω
-
-        # –ó–∞–ø—Ä–µ—â–∞–µ–º –∏–∑–º–µ–Ω—è—Ç—å —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ (—á—Ç–æ–±—ã –Ω–µ –ª–æ–º–∞–ª—Å—è –¥–∏–∑–∞–π–Ω)
+        self.window.title("üê± –ö–æ—Ç–æ–≥–∞–¥–∞–ª–∫–∞")
+        self.window.geometry("800x600")
+        self.window.configure(bg=self.BG_COLOR)
         self.window.resizable(False, False)
-
-        # --- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ç–µ—Å—Ç–∞ ---
-        self.current_question = 0  # –Ω–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ (–Ω–∞—á–∏–Ω–∞–µ–º —Å 0)
-        self.total_score = 0  # —Å—É–º–º–∞ –±–∞–ª–ª–æ–≤ –∑–∞ –æ—Ç–≤–µ—Ç—ã
-        self.answers = []  # —Å–ø–∏—Å–æ–∫ –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
-
-        # --- –°–æ–∑–¥–∞—ë–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ ---
-        # Frame - —ç—Ç–æ –∫–∞–∫ –∫–æ—Ä–æ–±–∫–∞, –≤ –∫–æ—Ç–æ—Ä—É—é –º—ã –∫–ª–∞–¥—ë–º –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
-        self.main_frame = tk.Frame(self.window, bg="#1a1a2e")
+        
+        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
+        self.db = Database()
+        
+        # –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
+        self.main_frame = tk.Frame(self.window, bg=self.BG_COLOR)
         self.main_frame.pack(fill="both", expand=True, padx=20, pady=20)
-
-        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω
-        self.show_start_screen()
-
+        
+        # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∞
+        self.current_question = 0
+        self.total_score = 0
+        self.answers = []
+        
+        # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ç–∞—Ä–æ
+        self.deck = None
+        self.cards_for_prediction = []
+        self.prediction = {}
+        
+        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
+        self.show_main_menu()
+    
     def clear_screen(self):
-        """
-        –û—á–∏—â–∞–µ—Ç —ç–∫—Ä–∞–Ω - —É–¥–∞–ª—è–µ—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ main_frame.
-        –í—ã–∑—ã–≤–∞–µ–º –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º –Ω–æ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞.
-        """
-        # –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º –¥–æ—á–µ—Ä–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º –∏ —É–¥–∞–ª—è–µ–º –∏—Ö
+        """–û—á–∏—â–∞–µ—Ç —ç–∫—Ä–∞–Ω."""
         for widget in self.main_frame.winfo_children():
             widget.destroy()
-
-    def show_start_screen(self):
-        """
-        –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º –∏ –∫–Ω–æ–ø–∫–æ–π –Ω–∞—á–∞–ª–∞ —Ç–µ—Å—Ç–∞.
-        """
-        # –°–Ω–∞—á–∞–ª–∞ –æ—á–∏—â–∞–µ–º —ç–∫—Ä–∞–Ω
+    
+    # ==================== –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ ====================
+    
+    def show_main_menu(self):
+        """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é."""
         self.clear_screen()
-
-        # --- –ó–∞–≥–æ–ª–æ–≤–æ–∫ ---
-        title_label = tk.Label(
+        
+        # –ó–∞–≥–æ–ª–æ–≤–æ–∫
+        title = tk.Label(
             self.main_frame,
-            text="üê± –ö–∞–∫–æ–π —Ç—ã –∫–æ—Ç —Å–µ–≥–æ–¥–Ω—è? üê±",
-            font=("Arial", 24, "bold"),
-            fg="#e94560",  # —Ä–æ–∑–æ–≤—ã–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞
-            bg="#1a1a2e"  # —Ñ–æ–Ω –∫–∞–∫ —É —Ä–æ–¥–∏—Ç–µ–ª—è
+            text="üê± –ö–æ—Ç–æ–≥–∞–¥–∞–ª–∫–∞ üê±",
+            font=("Arial", 32, "bold"),
+            fg=self.ACCENT_COLOR,
+            bg=self.BG_COLOR
         )
-        title_label.pack(pady=40)  # pady - –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É –∏ —Å–Ω–∏–∑—É
-
-        # --- –û–ø–∏—Å–∞–Ω–∏–µ ---
-        description = (
-            "–ü—Ä–æ–π–¥–∏ –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ—Å—Ç –∏–∑ 5 –≤–æ–ø—Ä–æ—Å–æ–≤\n"
-            "–∏ —É–∑–Ω–∞–π, –∫–∞–∫–æ–π —Ç—ã –∫–æ—Ç —Å–µ–≥–æ–¥–Ω—è!\n\n"
-            "üåô –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å —Å–≤–æ—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ"
-        )
-        desc_label = tk.Label(
+        title.pack(pady=30)
+        
+        # –ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫
+        subtitle = tk.Label(
             self.main_frame,
-            text=description,
+            text="–í—ã–±–µ—Ä–∏, —á—Ç–æ —Ö–æ—á–µ—à—å —Å–¥–µ–ª–∞—Ç—å:",
             font=("Arial", 14),
-            fg="#ffffff",
-            bg="#1a1a2e",
-            justify="center"  # –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É
+            fg=self.TEXT_COLOR,
+            bg=self.BG_COLOR
+        )
+        subtitle.pack(pady=10)
+        
+        # –ö–Ω–æ–ø–∫–∏ –º–µ–Ω—é
+        buttons_frame = tk.Frame(self.main_frame, bg=self.BG_COLOR)
+        buttons_frame.pack(pady=30)
+        
+        # –ö–Ω–æ–ø–∫–∞ —Ç–µ—Å—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
+        mood_btn = tk.Button(
+            buttons_frame,
+            text="üò∫ –ö–∞–∫–æ–π —Ç—ã –∫–æ—Ç —Å–µ–≥–æ–¥–Ω—è?",
+            font=("Arial", 14, "bold"),
+            fg=self.TEXT_COLOR,
+            bg=self.ACCENT_COLOR,
+            activebackground="#ff6b6b",
+            width=25,
+            height=2,
+            border=0,
+            cursor="hand2",
+            command=self.start_mood_test
         )
-        desc_label.pack(pady=30)
-
-        # --- –ö–Ω–æ–ø–∫–∞ "–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç" ---
-        start_button = tk.Button(
-            self.main_frame,
-            text="‚ú® –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç ‚ú®",
-            font=("Arial", 16, "bold"),
-            fg="#ffffff",
-            bg="#e94560",
-            activebackground="#ff6b6b",  # —Ü–≤–µ—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
-            activeforeground="#ffffff",
-            width=20,
+        mood_btn.pack(pady=10)
+        
+        # –ö–Ω–æ–ø–∫–∞ —Ç–∞—Ä–æ
+        tarot_btn = tk.Button(
+            buttons_frame,
+            text="üÉè –†–∞—Å–∫–ª–∞–¥ –¢–∞—Ä–æ",
+            font=("Arial", 14, "bold"),
+            fg=self.TEXT_COLOR,
+            bg=self.ACCENT_COLOR,
+            activebackground="#ff6b6b",
+            width=25,
+            height=2,
+            border=0,
+            cursor="hand2",
+            command=self.start_tarot
+        )
+        tarot_btn.pack(pady=10)
+        
+        # –ö–Ω–æ–ø–∫–∞ –¥–Ω–µ–≤–Ω–∏–∫–∞
+        diary_btn = tk.Button(
+            buttons_frame,
+            text="üìî –ú–æ–π –¥–Ω–µ–≤–Ω–∏–∫",
+            font=("Arial", 14, "bold"),
+            fg=self.TEXT_COLOR,
+            bg=self.BUTTON_COLOR,
+            activebackground=self.ACCENT_COLOR,
+            width=25,
+            height=2,
+            border=0,
+            cursor="hand2",
+            command=self.show_diary
+        )
+        diary_btn.pack(pady=10)
+        
+        # –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
+        stats_btn = tk.Button(
+            buttons_frame,
+            text="üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
+            font=("Arial", 14, "bold"),
+            fg=self.TEXT_COLOR,
+            bg=self.BUTTON_COLOR,
+            activebackground=self.ACCENT_COLOR,
+            width=25,
             height=2,
             border=0,
-            cursor="hand2",  # –∫—É—Ä—Å–æ—Ä-—Ä—É–∫–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
-            command=self.start_test  # —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑–æ–≤–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ
+            cursor="hand2",
+            command=self.show_statistics
         )
-        start_button.pack(pady=40)
-
-    def start_test(self):
-        """
-        –ù–∞—á–∏–Ω–∞–µ—Ç —Ç–µ—Å—Ç: —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫–∏ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å.
-        """
-        # –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
+        stats_btn.pack(pady=10)
+    
+    # ==================== –¢–ï–°–¢ –ù–ê–°–¢–†–û–ï–ù–ò–Ø ====================
+    
+    def start_mood_test(self):
+        """–ù–∞—á–∏–Ω–∞–µ—Ç —Ç–µ—Å—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è."""
         self.current_question = 0
         self.total_score = 0
         self.answers = []
-
-        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å
-        self.show_question()
-
-    def show_question(self):
-        """
-        –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤.
-        """
+        self.show_mood_question()
+    
+    def show_mood_question(self):
+        """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–æ–ø—Ä–æ—Å —Ç–µ—Å—Ç–∞."""
         self.clear_screen()
-
-        # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –∏–∑ —Å–ø–∏—Å–∫–∞
+        
         question_data = QUESTIONS[self.current_question]
-
-        # --- –ü—Ä–æ–≥—Ä–µ—Å—Å (–∫–∞–∫–æ–π –≤–æ–ø—Ä–æ—Å –∏–∑ —Å–∫–æ–ª—å–∫–∏) ---
+        
+        # –ü—Ä–æ–≥—Ä–µ—Å—Å
         progress_text = f"–í–æ–ø—Ä–æ—Å {self.current_question + 1} –∏–∑ {len(QUESTIONS)}"
         progress_label = tk.Label(
             self.main_frame,
             text=progress_text,
             font=("Arial", 12),
-            fg="#a0a0a0",  # —Å–µ—Ä—ã–π —Ü–≤–µ—Ç
-            bg="#1a1a2e"
+            fg=self.GRAY_COLOR,
+            bg=self.BG_COLOR
         )
         progress_label.pack(pady=10)
-
-        # --- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä (–≤–∏–∑—É–∞–ª—å–Ω—ã–π) ---
-        # –°–æ–∑–¥–∞—ë–º —Ä–∞–º–∫—É –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
+        
+        # –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
         progress_frame = tk.Frame(self.main_frame, bg="#333333", height=10)
         progress_frame.pack(fill="x", pady=5)
-
-        # –í—ã—á–∏—Å–ª—è–µ–º —à–∏—Ä–∏–Ω—É –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —á–∞—Å—Ç–∏ (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)
+        
         progress_percent = (self.current_question + 1) / len(QUESTIONS)
-
-        # –°–æ–∑–¥–∞—ë–º –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—É—é —á–∞—Å—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
-        progress_fill = tk.Frame(
-            progress_frame,
-            bg="#e94560",
-            height=10,
-            width=int(560 * progress_percent)  # 560 = —à–∏—Ä–∏–Ω–∞ –æ–∫–Ω–∞ –º–∏–Ω—É—Å –æ—Ç—Å—Ç—É–ø—ã
-        )
+        progress_fill = tk.Frame(progress_frame, bg=self.ACCENT_COLOR, height=10,
+                                  width=int(760 * progress_percent))
         progress_fill.place(x=0, y=0)
-
-        # --- –¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞ ---
+        
+        # –í–æ–ø—Ä–æ—Å
         question_label = tk.Label(
             self.main_frame,
             text=question_data["text"],
             font=("Arial", 18),
-            fg="#ffffff",
-            bg="#1a1a2e",
-            wraplength=500  # –ø–µ—Ä–µ–Ω–æ—Å —Ç–µ–∫—Å—Ç–∞, –µ—Å–ª–∏ –¥–ª–∏–Ω–Ω—ã–π
+            fg=self.TEXT_COLOR,
+            bg=self.BG_COLOR,
+            wraplength=600
         )
         question_label.pack(pady=30)
-
-        # --- –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ (–∫–Ω–æ–ø–∫–∏) ---
-        # –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º –≤–∞—Ä–∏–∞–Ω—Ç–∞–º –æ—Ç–≤–µ—Ç–∞
+        
+        # –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
         for option in question_data["options"]:
-            # –°–æ–∑–¥–∞—ë–º –∫–Ω–æ–ø–∫—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞
-            option_button = tk.Button(
+            btn = tk.Button(
                 self.main_frame,
                 text=option["text"],
                 font=("Arial", 12),
-                fg="#ffffff",
-                bg="#16213e",
-                activebackground="#e94560",
-                activeforeground="#ffffff",
-                width=40,
+                fg=self.TEXT_COLOR,
+                bg=self.BUTTON_COLOR,
+                activebackground=self.ACCENT_COLOR,
+                width=45,
                 height=2,
                 border=0,
                 cursor="hand2",
-                # lambda –Ω—É–∂–Ω–∞, —á—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞—Ç—å score –≤ —Ñ—É–Ω–∫—Ü–∏—é
-                # –±–µ–∑ lambda –≤—Å–µ –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∏ –±—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π score
-                command=lambda score=option["score"]: self.answer_question(score)
+                command=lambda s=option["score"]: self.answer_mood_question(s)
             )
-            option_button.pack(pady=5)
-
-            # –î–æ–±–∞–≤–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –º—ã—à–∏
-            option_button.bind('<Enter>', lambda e, btn=option_button: btn.configure(bg="#e94560"))
-            option_button.bind('<Leave>', lambda e, btn=option_button: btn.configure(bg="#16213e"))
-
-    def answer_question(self, score):
-        """
-        –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å.
-        score - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–ª–ª–æ–≤ –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç.
-        """
-        # –î–æ–±–∞–≤–ª—è–µ–º –±–∞–ª–ª—ã –∫ –æ–±—â–µ–º—É —Å—á—ë—Ç—É
+            btn.pack(pady=5)
+            btn.bind('<Enter>', lambda e, b=btn: b.configure(bg=self.ACCENT_COLOR))
+            btn.bind('<Leave>', lambda e, b=btn: b.configure(bg=self.BUTTON_COLOR))
+    
+    def answer_mood_question(self, score):
+        """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å."""
         self.total_score += score
-
-        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç–≤–µ—Ç –≤ —Å–ø–∏—Å–æ–∫
         self.answers.append(score)
-
-        # –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É
         self.current_question += 1
-
-        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –µ—â—ë –≤–æ–ø—Ä–æ—Å—ã
+        
         if self.current_question < len(QUESTIONS):
-            # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
-            self.show_question()
+            self.show_mood_question()
         else:
-            # –í–æ–ø—Ä–æ—Å—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
-            self.show_result()
-
+            self.show_mood_result()
+    
     def get_cat_type(self):
-        """
-        –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –∫–æ—Ç–∞ –ø–æ –Ω–∞–±—Ä–∞–Ω–Ω—ã–º –±–∞–ª–ª–∞–º.
-        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –æ —Ç–∏–ø–µ –∫–æ—Ç–∞.
-        """
-        # –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º —Ç–∏–ø–∞–º –∫–æ—Ç–æ–≤
+        """–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –∫–æ—Ç–∞ –ø–æ –±–∞–ª–ª–∞–º."""
         for cat_type in CAT_TYPES:
-            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–ø–∞–¥–∞—é—Ç –ª–∏ –±–∞–ª–ª—ã –≤ –¥–∏–∞–ø–∞–∑–æ–Ω —ç—Ç–æ–≥–æ —Ç–∏–ø–∞
             if cat_type["min_score"] <= self.total_score <= cat_type["max_score"]:
                 return cat_type
-
-        # –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–¥–æ—à–ª–æ (–Ω–µ –¥–æ–ª–∂–Ω–æ —Å–ª—É—á–∏—Ç—å—Å—è), –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–µ—Ä–≤—ã–π —Ç–∏–ø
         return CAT_TYPES[0]
-
-    def show_result(self):
-        """
-        –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞ —Å –∫–∞—Ä—Ç–∏–Ω–∫–æ–π –∫–æ—Ç–∞ –∏–∑ API.
-        """
+    
+    def show_mood_result(self):
+        """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞."""
         self.clear_screen()
-
-        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∫–æ—Ç–∞
+        
         cat_type = self.get_cat_type()
-
-        # --- –ó–∞–≥–æ–ª–æ–≤–æ–∫ "–¢–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç" ---
-        result_title = tk.Label(
+        
+        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
+        self.db.save_mood_result(cat_type["name"], self.total_score, self.answers)
+        
+        # –ó–∞–≥–æ–ª–æ–≤–æ–∫
+        tk.Label(
             self.main_frame,
             text="‚ú® –¢–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚ú®",
             font=("Arial", 16),
-            fg="#a0a0a0",
-            bg="#1a1a2e"
-        )
-        result_title.pack(pady=10)
-
-        # --- –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ –∫–æ—Ç–∞ ---
-        cat_name_label = tk.Label(
+            fg=self.GRAY_COLOR,
+            bg=self.BG_COLOR
+        ).pack(pady=10)
+        
+        # –¢–∏–ø –∫–æ—Ç–∞
+        tk.Label(
             self.main_frame,
             text=cat_type["name"],
             font=("Arial", 24, "bold"),
-            fg=cat_type["color"],  # –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ü–≤–µ—Ç –∏–∑ –¥–∞–Ω–Ω—ã—Ö
-            bg="#1a1a2e"
-        )
-        cat_name_label.pack(pady=5)
-
-        # --- –ë–∞–ª–ª—ã ---
-        score_label = tk.Label(
+            fg=cat_type["color"],
+            bg=self.BG_COLOR
+        ).pack(pady=5)
+        
+        # –ë–∞–ª–ª—ã
+        tk.Label(
             self.main_frame,
-            text=f"–¢–≤–æ–∏ –±–∞–ª–ª—ã: {self.total_score} –∏–∑ {len(QUESTIONS) * 5}",
+            text=f"–ë–∞–ª–ª—ã: {self.total_score} –∏–∑ {len(QUESTIONS) * 5}",
             font=("Arial", 11),
-            fg="#a0a0a0",
-            bg="#1a1a2e"
-        )
-        score_label.pack(pady=5)
-
-        # --- –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∫–æ—Ç–∞ ---
-        # –°–æ–∑–¥–∞—ë–º —Ä–∞–º–∫—É –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–∫–∏
-        image_frame = tk.Frame(self.main_frame, bg="#1a1a2e")
+            fg=self.GRAY_COLOR,
+            bg=self.BG_COLOR
+        ).pack(pady=5)
+        
+        # –ö–∞—Ä—Ç–∏–Ω–∫–∞
+        image_frame = tk.Frame(self.main_frame, bg=self.BG_COLOR)
         image_frame.pack(pady=10)
-
-        # –ú–µ—Ç–∫–∞ –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ (—Å–Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏)
-        self.image_label = tk.Label(
-            image_frame,
-            text="üê± –ó–∞–≥—Ä—É–∂–∞—é –∫–æ—Ç–∏–∫–∞...",
-            font=("Arial", 12),
-            fg="#a0a0a0",
-            bg="#1a1a2e"
-        )
+        
+        self.image_label = tk.Label(image_frame, bg=self.BG_COLOR)
         self.image_label.pack()
-
-        # –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ, —á—Ç–æ–±—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –∑–∞–≤–∏—Å–∞–ª
-        # –ù–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã —Å–¥–µ–ª–∞–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (–ø–æ–¥–æ–∂–¥—ë–º –∑–∞–≥—Ä—É–∑–∫—É)
         self.load_cat_image(cat_type["image_folder"])
-
-        # --- –û–ø–∏—Å–∞–Ω–∏–µ —Ç–∏–ø–∞ ---
-        # –°–æ–∑–¥–∞—ë–º —Ä–∞–º–∫—É —Å —Ü–≤–µ—Ç–Ω–æ–π –≥—Ä–∞–Ω–∏—Ü–µ–π –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è
-        desc_frame = tk.Frame(
-            self.main_frame,
-            bg=cat_type["color"],
-            padx=3,
-            pady=3
-        )
+        
+        # –û–ø–∏—Å–∞–Ω–∏–µ
+        desc_frame = tk.Frame(self.main_frame, bg=cat_type["color"], padx=3, pady=3)
         desc_frame.pack(pady=10, padx=20, fill="x")
-
-        # –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —á–∞—Å—Ç—å —Ä–∞–º–∫–∏
-        desc_inner = tk.Frame(desc_frame, bg="#16213e")
+        
+        desc_inner = tk.Frame(desc_frame, bg=self.BUTTON_COLOR)
         desc_inner.pack(fill="both", expand=True)
-
-        desc_label = tk.Label(
+        
+        tk.Label(
             desc_inner,
             text=cat_type["description"],
             font=("Arial", 11),
-            fg="#ffffff",
-            bg="#16213e",
-            wraplength=450,
+            fg=self.TEXT_COLOR,
+            bg=self.BUTTON_COLOR,
+            wraplength=500,
             justify="center",
             padx=15,
             pady=10
-        )
-        desc_label.pack()
-
-        # --- –ö–Ω–æ–ø–∫–∏ ---
-        buttons_frame = tk.Frame(self.main_frame, bg="#1a1a2e")
+        ).pack()
+        
+        # –ö–Ω–æ–ø–∫–∏
+        buttons_frame = tk.Frame(self.main_frame, bg=self.BG_COLOR)
         buttons_frame.pack(pady=15)
-
-        # –ö–Ω–æ–ø–∫–∞ "–î—Ä—É–≥–æ–π –∫–æ—Ç–∏–∫" - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–æ–≤—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É
-        new_cat_button = tk.Button(
+        
+        tk.Button(
             buttons_frame,
             text="üîÑ –î—Ä—É–≥–æ–π –∫–æ—Ç–∏–∫",
             font=("Arial", 11),
-            fg="#ffffff",
-            bg="#16213e",
-            activebackground="#e94560",
-            activeforeground="#ffffff",
+            fg=self.TEXT_COLOR,
+            bg=self.BUTTON_COLOR,
             width=14,
             height=2,
             border=0,
             cursor="hand2",
             command=lambda: self.load_cat_image(cat_type["image_folder"])
-        )
-        new_cat_button.pack(side="left", padx=5)
-
-        # –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–π—Ç–∏ –µ—â—ë —Ä–∞–∑"
-        retry_button = tk.Button(
+        ).pack(side="left", padx=5)
+        
+        tk.Button(
             buttons_frame,
             text="üîÅ –ó–∞–Ω–æ–≤–æ",
             font=("Arial", 11),
-            fg="#ffffff",
-            bg="#16213e",
-            activebackground="#e94560",
-            activeforeground="#ffffff",
+            fg=self.TEXT_COLOR,
+            bg=self.BUTTON_COLOR,
             width=14,
             height=2,
             border=0,
             cursor="hand2",
-            command=self.start_test
-        )
-        retry_button.pack(side="left", padx=5)
-
-        # –ö–Ω–æ–ø–∫–∞ "–ù–∞ –≥–ª–∞–≤–Ω—É—é"
-        home_button = tk.Button(
+            command=self.start_mood_test
+        ).pack(side="left", padx=5)
+        
+        tk.Button(
             buttons_frame,
-            text="üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é",
+            text="üè† –ú–µ–Ω—é",
             font=("Arial", 11),
-            fg="#ffffff",
-            bg="#16213e",
-            activebackground="#e94560",
-            activeforeground="#ffffff",
+            fg=self.TEXT_COLOR,
+            bg=self.BUTTON_COLOR,
             width=14,
             height=2,
             border=0,
             cursor="hand2",
-            command=self.show_start_screen
-        )
-        home_button.pack(side="left", padx=5)
-
-    def load_cat_image(self, image_folder):
-        """
-        –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É –∫–æ—Ç–∞ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–∞–ø–∫–∏.
-
-        –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
-            image_folder - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏ (sleepy, happy –∏ —Ç.–¥.)
-        """
-        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ –∏–¥—ë—Ç –∑–∞–≥—Ä—É–∑–∫–∞
-        self.image_label.config(text="üê± –ò—â—É –∫–æ—Ç–∏–∫–∞...", image="")
-
-        # –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
-        self.window.update()
-
-        # –ü–æ–ª—É—á–∞–µ–º –ø—É—Ç—å –∫ —Å–ª—É—á–∞–π–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–µ –∏–∑ –ø–∞–ø–∫–∏
-        image_path = get_random_local_image(image_folder)
-
+            command=self.show_main_menu
+        ).pack(side="left", padx=5)
+    
+    def load_cat_image(self, folder):
+        """–ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫–∞—Ä—Ç–∏–Ω–∫—É –∫–æ—Ç–∞."""
+        image_path = get_random_local_image(folder)
+        
         if image_path:
-            # –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
-            photo = load_local_image(image_path, max_width=200, max_height=200)
-
+            photo = load_local_image(image_path, 180, 180)
             if photo:
-                # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
-                # –í–∞–∂–Ω–æ! –ë–µ–∑ —ç—Ç–æ–≥–æ Python —É–¥–∞–ª–∏—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ –ø–∞–º—è—Ç–∏
                 self.current_photo = photo
-
-                # –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É
                 self.image_label.config(image=photo, text="")
             else:
-                self.image_label.config(text="üòø –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É")
+                self.image_label.config(text="üòø –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å", image="")
         else:
-            self.image_label.config(text="üòø –ö–∞—Ä—Ç–∏–Ω–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã\n–î–æ–±–∞–≤—å –≤ –ø–∞–ø–∫—É images/")
-
+            self.image_label.config(text="üòø –ö–∞—Ä—Ç–∏–Ω–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã\n–î–æ–±–∞–≤—å –≤ images/", image="")
+    
+    # ==================== –¢–ê–†–û ====================
+    
+    def start_tarot(self):
+        """–ù–∞—á–∏–Ω–∞–µ—Ç —Ä–∞—Å–∫–ª–∞–¥ —Ç–∞—Ä–æ."""
+        self.clear_screen()
+        self.deck = Deck()
+        
+        # –ó–∞–≥–æ–ª–æ–≤–æ–∫
+        tk.Label(
+            self.main_frame,
+            text="üÉè –†–∞—Å–∫–ª–∞–¥ –¢–∞—Ä–æ üÉè",
+            font=("Arial", 24, "bold"),
+            fg=self.ACCENT_COLOR,
+            bg=self.BG_COLOR
+        ).pack(pady=20)
+        
+        tk.Label(
+            self.main_frame,
+            text="–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –≤—ã—Ç—è–Ω—É—Ç—å —Ç—Ä–∏ –∫–∞—Ä—Ç—ã\n–∏ —É–∑–Ω–∞—Ç—å, —á—Ç–æ —Ç–µ–±—è –∂–¥—ë—Ç",
+            font=("Arial", 14),
+            fg=self.TEXT_COLOR,
+            bg=self.BG_COLOR,
+            justify="center"
+        ).pack(pady=20)
+        
+        tk.Button(
+            self.main_frame,
+            text="‚ú® –í—ã—Ç—è–Ω—É—Ç—å –∫–∞—Ä—Ç—ã ‚ú®",
+            font=("Arial", 16, "bold"),
+            fg=self.TEXT_COLOR,
+            bg=self.ACCENT_COLOR,
+            width=20,
+            height=2,
+            border=0,
+            cursor="hand2",
+            command=self.draw_tarot_cards
+        ).pack(pady=30)
+        
+        tk.Button(
+            self.main_frame,
+            text="üè† –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é",
+            font=("Arial", 12),
+            fg=self.TEXT_COLOR,
+            bg=self.BUTTON_COLOR,
+            width=20,
+            height=2,
+            border=0,
+            cursor="hand2",
+            command=self.show_main_menu
+        ).pack(pady=10)
+    
+    def draw_tarot_cards(self):
+        """–í—ã—Ç—è–≥–∏–≤–∞–µ—Ç –∫–∞—Ä—Ç—ã –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç."""
+        self.clear_screen()
+        
+        # –°–æ–∑–¥–∞—ë–º Canvas –¥–ª—è –∫–∞—Ä—Ç
+        self.canvas = tk.Canvas(
+            self.main_frame, 
+            bg=self.BG_COLOR, 
+            highlightthickness=0,
+            width=760,
+            height=520
+        )
+        self.canvas.pack(fill=tk.BOTH, expand=True)
+        
+        # –í—ã—Ç—è–≥–∏–≤–∞–µ–º 3 –∫–∞—Ä—Ç—ã
+        self.card_images = {}
+        self.cards_for_prediction = []
+        
+        for i in range(3):
+            card = self.deck.pull_card()
+            self.cards_for_prediction.append(card)
+            
+            try:
+                img = Image.open(card.image_path)
+                img = img.resize((150, 280), Image.LANCZOS)
+                card_img = ImageTk.PhotoImage(img)
+                
+                self.card_images[f"card_{i}"] = card_img
+                x_pos = 130 + i * 250
+                self.canvas.create_image(x_pos, 160, image=card_img)
+                
+                # –ü–æ–¥–ø–∏—Å—å –∫–∞—Ä—Ç—ã
+                self.canvas.create_text(
+                    x_pos, 320,
+                    text=card.name.replace("_", " ").title(),
+                    fill=self.TEXT_COLOR,
+                    font=("Arial", 10)
+                )
+            except Exception as e:
+                print(f"[IMG] –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ä—Ç—ã: {e}")
+        
+        # –ü–æ–ª—É—á–∞–µ–º –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ
+        self.canvas.create_text(
+            380, 360,
+            text="‚è≥ –ü–æ–ª—É—á–∞—é –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ...",
+            fill=self.GRAY_COLOR,
+            font=("Arial", 12)
+        )
+        self.window.update()
+        
+        self.prediction = get_prediction(self.cards_for_prediction)
+        
+        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
+        self.db.save_tarot_reading(self.cards_for_prediction, self.prediction)
+        
+        # –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
+        self.text_widget = tk.Text(
+            self.canvas,
+            height=6,
+            width=80,
+            wrap="word",
+            bg=self.BUTTON_COLOR,
+            fg=self.TEXT_COLOR,
+            font=("Arial", 10)
+        )
+        self.canvas.create_window(380, 400, window=self.text_widget)
+        self.text_widget.insert("1.0", "–í—ã–±–µ—Ä–∏ —Ç–µ–º—É –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –Ω–∏–∂–µ...")
+        self.text_widget.config(state="disabled")
+        
+        # –ö–Ω–æ–ø–∫–∏ —Ç–µ–º
+        button_frame = tk.Frame(self.canvas, bg=self.BG_COLOR)
+        
+        tk.Button(
+            button_frame,
+            text="‚ù§Ô∏è –õ—é–±–æ–≤—å",
+            font=("Arial", 11),
+            fg=self.TEXT_COLOR,
+            bg=self.ACCENT_COLOR,
+            width=12,
+            height=2,
+            border=0,
+            command=lambda: self.show_prediction('love')
+        ).pack(side="left", padx=10)
+        
+        tk.Button(
+            button_frame,
+            text="üíº –ö–∞—Ä—å–µ—Ä–∞",
+            font=("Arial", 11),
+            fg=self.TEXT_COLOR,
+            bg=self.ACCENT_COLOR,
+            width=12,
+            height=2,
+            border=0,
+            command=lambda: self.show_prediction('career')
+        ).pack(side="left", padx=10)
+        
+        tk.Button(
+            button_frame,
+            text="üí∞ –§–∏–Ω–∞–Ω—Å—ã",
+            font=("Arial", 11),
+            fg=self.TEXT_COLOR,
+            bg=self.ACCENT_COLOR,
+            width=12,
+            height=2,
+            border=0,
+            command=lambda: self.show_prediction('finance')
+        ).pack(side="left", padx=10)
+        
+        tk.Button(
+            button_frame,
+            text="üè† –ú–µ–Ω—é",
+            font=("Arial", 11),
+            fg=self.TEXT_COLOR,
+            bg=self.BUTTON_COLOR,
+            width=12,
+            height=2,
+            border=0,
+            command=self.show_main_menu
+        ).pack(side="left", padx=10)
+        
+        self.canvas.create_window(380, 490, window=button_frame)
+    
+    def show_prediction(self, topic):
+        """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ç–µ–º–µ."""
+        text = self.prediction.get(topic, "–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ")
+        
+        self.text_widget.config(state="normal")
+        self.text_widget.delete("1.0", "end")
+        self.text_widget.insert("1.0", text)
+        self.text_widget.config(state="disabled")
+    
+    # ==================== –î–ù–ï–í–ù–ò–ö ====================
+    
+    def show_diary(self):
+        """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–Ω–µ–≤–Ω–∏–∫ —Å –∏—Å—Ç–æ—Ä–∏–µ–π."""
+        self.clear_screen()
+        
+        # –ó–∞–≥–æ–ª–æ–≤–æ–∫
+        tk.Label(
+            self.main_frame,
+            text="üìî –ú–æ–π –¥–Ω–µ–≤–Ω–∏–∫",
+            font=("Arial", 24, "bold"),
+            fg=self.ACCENT_COLOR,
+            bg=self.BG_COLOR
+        ).pack(pady=15)
+        
+        # –°–æ–∑–¥–∞—ë–º –≤–∫–ª–∞–¥–∫–∏
+        tabs_frame = tk.Frame(self.main_frame, bg=self.BG_COLOR)
+        tabs_frame.pack(pady=10)
+        
+        tk.Button(
+            tabs_frame,
+            text="üò∫ –¢–µ—Å—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è",
+            font=("Arial", 11),
+            fg=self.TEXT_COLOR,
+            bg=self.ACCENT_COLOR,
+            width=18,
+            height=2,
+            border=0,
+            command=self.show_mood_diary
+        ).pack(side="left", padx=5)
+        
+        tk.Button(
+            tabs_frame,
+            text="üÉè –†–∞—Å–∫–ª–∞–¥—ã —Ç–∞—Ä–æ",
+            font=("Arial", 11),
+            fg=self.TEXT_COLOR,
+            bg=self.BUTTON_COLOR,
+            width=18,
+            height=2,
+            border=0,
+            command=self.show_tarot_diary
+        ).pack(side="left", padx=5)
+        
+        # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏
+        self.diary_container = tk.Frame(self.main_frame, bg=self.BG_COLOR)
+        self.diary_container.pack(fill="both", expand=True, pady=10)
+        
+        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é —Ç–µ—Å—Ç–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
+        self.show_mood_diary()
+        
+        # –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥
+        tk.Button(
+            self.main_frame,
+            text="üè† –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é",
+            font=("Arial", 12),
+            fg=self.TEXT_COLOR,
+            bg=self.BUTTON_COLOR,
+            width=20,
+            height=2,
+            border=0,
+            cursor="hand2",
+            command=self.show_main_menu
+        ).pack(pady=10)
+    
+    def show_mood_diary(self):
+        """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Ç–µ—Å—Ç–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è."""
+        for widget in self.diary_container.winfo_children():
+            widget.destroy()
+        
+        history = self.db.get_mood_history(15)
+        
+        if not history:
+            tk.Label(
+                self.diary_container,
+                text="–ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–ø–∏—Å–µ–π.\n–ü—Ä–æ–π–¥–∏ —Ç–µ—Å—Ç, —á—Ç–æ–±—ã –ø–æ—è–≤–∏–ª–∞—Å—å –∏—Å—Ç–æ—Ä–∏—è!",
+                font=("Arial", 12),
+                fg=self.GRAY_COLOR,
+                bg=self.BG_COLOR
+            ).pack(pady=50)
+            return
+        
+        # –°–æ–∑–¥–∞—ë–º —Å–ø–∏—Å–æ–∫ —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π
+        canvas = tk.Canvas(self.diary_container, bg=self.BG_COLOR, highlightthickness=0)
+        scrollbar = tk.Scrollbar(self.diary_container, orient="vertical", command=canvas.yview)
+        scrollable_frame = tk.Frame(canvas, bg=self.BG_COLOR)
+        
+        scrollable_frame.bind(
+            "<Configure>",
+            lambda e: canvas.configure(scrollregion=canvas.bbox("all"))
+        )
+        
+        canvas.create_window((0, 0), window=scrollable_frame, anchor="nw")
+        canvas.configure(yscrollcommand=scrollbar.set)
+        
+        for date, cat_type, score in history:
+            entry_frame = tk.Frame(scrollable_frame, bg=self.BUTTON_COLOR, padx=10, pady=8)
+            entry_frame.pack(fill="x", pady=3, padx=10)
+            
+            # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–∞—Ç—É
+            try:
+                dt = datetime.strptime(date, "%Y-%m-%d %H:%M:%S")
+                date_str = dt.strftime("%d.%m.%Y %H:%M")
+            except:
+                date_str = date
+            
+            tk.Label(
+                entry_frame,
+                text=f"üìÖ {date_str}",
+                font=("Arial", 10),
+                fg=self.GRAY_COLOR,
+                bg=self.BUTTON_COLOR
+            ).pack(anchor="w")
+            
+            tk.Label(
+                entry_frame,
+                text=f"{cat_type} ‚Äî {score} –±–∞–ª–ª–æ–≤",
+                font=("Arial", 12, "bold"),
+                fg=self.TEXT_COLOR,
+                bg=self.BUTTON_COLOR
+            ).pack(anchor="w")
+        
+        canvas.pack(side="left", fill="both", expand=True)
+        scrollbar.pack(side="right", fill="y")
+    
+    def show_tarot_diary(self):
+        """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Ä–∞—Å–∫–ª–∞–¥–æ–≤ —Ç–∞—Ä–æ."""
+        for widget in self.diary_container.winfo_children():
+            widget.destroy()
+        
+        history = self.db.get_tarot_history(15)
+        
+        if not history:
+            tk.Label(
+                self.diary_container,
+                text="–ü–æ–∫–∞ –Ω–µ—Ç —Ä–∞—Å–∫–ª–∞–¥–æ–≤.\n–°–¥–µ–ª–∞–π —Ä–∞—Å–∫–ª–∞–¥, —á—Ç–æ–±—ã –ø–æ—è–≤–∏–ª–∞—Å—å –∏—Å—Ç–æ—Ä–∏—è!",
+                font=("Arial", 12),
+                fg=self.GRAY_COLOR,
+                bg=self.BG_COLOR
+            ).pack(pady=50)
+            return
+        
+        # –°–æ–∑–¥–∞—ë–º —Å–ø–∏—Å–æ–∫ —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π
+        canvas = tk.Canvas(self.diary_container, bg=self.BG_COLOR, highlightthickness=0)
+        scrollbar = tk.Scrollbar(self.diary_container, orient="vertical", command=canvas.yview)
+        scrollable_frame = tk.Frame(canvas, bg=self.BG_COLOR)
+        
+        scrollable_frame.bind(
+            "<Configure>",
+            lambda e: canvas.configure(scrollregion=canvas.bbox("all"))
+        )
+        
+        canvas.create_window((0, 0), window=scrollable_frame, anchor="nw")
+        canvas.configure(yscrollcommand=scrollbar.set)
+        
+        for date, card1, card2, card3 in history:
+            entry_frame = tk.Frame(scrollable_frame, bg=self.BUTTON_COLOR, padx=10, pady=8)
+            entry_frame.pack(fill="x", pady=3, padx=10)
+            
+            try:
+                dt = datetime.strptime(date, "%Y-%m-%d %H:%M:%S")
+                date_str = dt.strftime("%d.%m.%Y %H:%M")
+            except:
+                date_str = date
+            
+            tk.Label(
+                entry_frame,
+                text=f"üìÖ {date_str}",
+                font=("Arial", 10),
+                fg=self.GRAY_COLOR,
+                bg=self.BUTTON_COLOR
+            ).pack(anchor="w")
+            
+            cards_text = f"üÉè {card1.replace('_', ' ')}, {card2.replace('_', ' ')}, {card3.replace('_', ' ')}"
+            tk.Label(
+                entry_frame,
+                text=cards_text,
+                font=("Arial", 11),
+                fg=self.TEXT_COLOR,
+                bg=self.BUTTON_COLOR,
+                wraplength=600
+            ).pack(anchor="w")
+        
+        canvas.pack(side="left", fill="both", expand=True)
+        scrollbar.pack(side="right", fill="y")
+    
+    # ==================== –°–¢–ê–¢–ò–°–¢–ò–ö–ê ====================
+    
+    def show_statistics(self):
+        """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É."""
+        self.clear_screen()
+        
+        # –ó–∞–≥–æ–ª–æ–≤–æ–∫
+        tk.Label(
+            self.main_frame,
+            text="üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
+            font=("Arial", 24, "bold"),
+            fg=self.ACCENT_COLOR,
+            bg=self.BG_COLOR
+        ).pack(pady=20)
+        
+        # –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
+        stats = self.db.get_mood_statistics()
+        
+        if not stats:
+            tk.Label(
+                self.main_frame,
+                text="–ü–æ–∫–∞ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.\n–ü—Ä–æ–π–¥–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤!",
+                font=("Arial", 14),
+                fg=self.GRAY_COLOR,
+                bg=self.BG_COLOR
+            ).pack(pady=50)
+        else:
+            tk.Label(
+                self.main_frame,
+                text="–¢–≤–æ–∏ —Ç–∏–ø—ã –∫–æ—Ç–æ–≤:",
+                font=("Arial", 14),
+                fg=self.TEXT_COLOR,
+                bg=self.BG_COLOR
+            ).pack(pady=10)
+            
+            # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
+            total = sum(count for _, count in stats)
+            
+            for cat_type, count in stats:
+                percent = int(count / total * 100)
+                
+                stat_frame = tk.Frame(self.main_frame, bg=self.BG_COLOR)
+                stat_frame.pack(fill="x", padx=50, pady=5)
+                
+                tk.Label(
+                    stat_frame,
+                    text=f"{cat_type}: {count} —Ä–∞–∑ ({percent}%)",
+                    font=("Arial", 12),
+                    fg=self.TEXT_COLOR,
+                    bg=self.BG_COLOR,
+                    anchor="w"
+                ).pack(side="left")
+                
+                # –ü—Ä–æ—Å—Ç–æ–π –±–∞—Ä
+                bar_frame = tk.Frame(stat_frame, bg="#333333", height=20, width=200)
+                bar_frame.pack(side="right", padx=10)
+                bar_frame.pack_propagate(False)
+                
+                fill_width = int(200 * count / max(c for _, c in stats))
+                bar_fill = tk.Frame(bar_frame, bg=self.ACCENT_COLOR, height=20, width=fill_width)
+                bar_fill.place(x=0, y=0)
+        
+        # –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥
+        tk.Button(
+            self.main_frame,
+            text="üè† –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é",
+            font=("Arial", 12),
+            fg=self.TEXT_COLOR,
+            bg=self.BUTTON_COLOR,
+            width=20,
+            height=2,
+            border=0,
+            cursor="hand2",
+            command=self.show_main_menu
+        ).pack(pady=30)
+    
     def run(self):
-        """
-        –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
-        mainloop() - —ç—Ç–æ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª, –∫–æ—Ç–æ—Ä—ã–π –∂–¥—ë—Ç –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
-        """
+        """–ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ."""
         self.window.mainloop()
+        self.db.close()
 
 
 # ============================================================
-# –¢–û–ß–ö–ê –í–•–û–î–ê –í –ü–†–û–ì–†–ê–ú–ú–£
+# –¢–û–ß–ö–ê –í–•–û–î–ê
 # ============================================================
 
-# –≠—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω—É–∂–Ω–∞, —á—Ç–æ–±—ã –∫–æ–¥ –Ω–∏–∂–µ –≤—ã–ø–æ–ª–Ω—è–ª—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ñ–∞–π–ª–∞ –Ω–∞–ø—Ä—è–º—É—é
-# (–∞ –Ω–µ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –≤ –¥—Ä—É–≥–æ–π —Ñ–∞–π–ª)
 if __name__ == "__main__":
-    # –°–æ–∑–¥–∞—ë–º —ç–∫–∑–µ–º–ø–ª—è—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
-    app = CatMoodTestApp()
-
-    # –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
+    app = MainApp()
     app.run()
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"0121c07a-2205-48c7-b595-9d71d51ba58c\" name=\"Changes\" comment=\"base\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/pyproject.toml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/pyproject.toml\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Python Script\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitHubPullRequestSearchHistory\">{\r\n  &quot;lastFilter&quot;: {\r\n    &quot;state&quot;: &quot;OPEN&quot;,\r\n    &quot;assignee&quot;: &quot;ch3rk4&quot;\r\n  }\r\n}</component>\r\n  <component name=\"GithubPullRequestsUISettings\">{\r\n  &quot;selectedUrlAndAccountId&quot;: {\r\n    &quot;url&quot;: &quot;https://github.com/ch3rk4/cats.git&quot;,\r\n    &quot;accountId&quot;: &quot;6f96d88e-1535-4788-810a-49b80da077ca&quot;\r\n  }\r\n}</component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;associatedIndex&quot;: 0\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"37qruJsHyyBjIjmGvkxGYkjwCWk\" />\r\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\"><![CDATA[{\r\n  \"keyToString\": {\r\n    \"Python.cat_mood_test.executor\": \"Run\",\r\n    \"Python.main.executor\": \"Run\",\r\n    \"RunOnceActivity.ShowReadmeOnStart\": \"true\",\r\n    \"git-widget-placeholder\": \"main\"\r\n  }\r\n}]]></component>\r\n  <component name=\"SharedIndexes\">\r\n    <attachedChunks>\r\n      <set>\r\n        <option value=\"bundled-python-sdk-d7ad00fb9fc3-c546a90a8094-com.jetbrains.pycharm.community.sharedIndexes.bundled-PC-242.23726.102\" />\r\n      </set>\r\n    </attachedChunks>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"0121c07a-2205-48c7-b595-9d71d51ba58c\" name=\"Changes\" comment=\"\" />\r\n      <created>1767641667692</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1767641667692</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"base\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1767641765289</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1767641765289</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"2\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"base\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"base\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 7edccef1e210d89faeef5ff4004dc9b1fb4f3c7b)
+++ b/.idea/workspace.xml	(date 1767645892164)
@@ -4,10 +4,8 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="0121c07a-2205-48c7-b595-9d71d51ba58c" name="Changes" comment="base">
-      <change beforePath="$PROJECT_DIR$/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/misc.xml" afterDir="false" />
+    <list default="true" id="0121c07a-2205-48c7-b595-9d71d51ba58c" name="Changes" comment="test">
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/pyproject.toml" beforeDir="false" afterPath="$PROJECT_DIR$/pyproject.toml" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -77,11 +75,20 @@
       <option name="project" value="LOCAL" />
       <updated>1767641765289</updated>
     </task>
-    <option name="localTasksCounter" value="2" />
+    <task id="LOCAL-00002" summary="test">
+      <option name="closed" value="true" />
+      <created>1767645811058</created>
+      <option name="number" value="00002" />
+      <option name="presentableId" value="LOCAL-00002" />
+      <option name="project" value="LOCAL" />
+      <updated>1767645811058</updated>
+    </task>
+    <option name="localTasksCounter" value="3" />
     <servers />
   </component>
   <component name="VcsManagerConfiguration">
     <MESSAGE value="base" />
-    <option name="LAST_COMMIT_MESSAGE" value="base" />
+    <MESSAGE value="test" />
+    <option name="LAST_COMMIT_MESSAGE" value="test" />
   </component>
 </project>
\ No newline at end of file
